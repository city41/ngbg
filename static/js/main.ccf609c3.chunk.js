(window.webpackJsonpngbg=window.webpackJsonpngbg||[]).push([[0],{13:function(e,t,n){e.exports={root:"spriteTray_root__1Sixf",message:"spriteTray_message__21tFc",spriteEntries:"spriteTray_spriteEntries__16oai",filler:"spriteTray_filler__K67QZ"}},17:function(e,t,n){e.exports={root:"cropRect_root__LYSAR",mask:"cropRect_mask__Vl5ZD",crop:"cropRect_crop__2ev0N"}},24:function(e,t,n){e.exports={root:"spriteEntry_root__21-Rc",index:"spriteEntry_index__3_j9A",focused:"spriteEntry_focused__2e2R9",spriteContainer:"spriteEntry_spriteContainer__3BESY"}},30:function(e,t,n){e.exports={root:"group_root__1RKod",toolbar:"group_toolbar__1l8sD",spriteContainer:"group_spriteContainer__cQlrm"}},34:function(e,t,n){e.exports={root:"extractedTile_root__14wnu",outlined:"extractedTile_outlined__1tGwy"}},38:function(e,t,n){e.exports={root:"layer_root__NdbK1",toolbar:"layer_toolbar__1mN6V"}},39:function(e,t,n){e.exports={root:"layers_root__1VIq8"}},48:function(e,t,n){e.exports={root:"extractedSprite_root__gpe6g"}},53:function(e,t,n){e.exports={canvas:"tile_canvas__1tNqN"}},54:function(e,t,n){e.exports={sprite:"sprite_sprite__38hI5"}},55:function(e,t,n){e.exports={root:"layer_root__1yNTP"}},56:function(e,t,n){e.exports={root:"iconButton_root__J-591"}},57:function(e,t,n){e.exports={root:"sprite_root__1RSYf"}},59:function(e,t){e.exports="data:image/png;base64,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"},60:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARwAAABxCAMAAAAwN+ziAAAC+lBMVEWZAACZAACZAACZAACZAACXAAB9AABxAABxAABxAABxAABxAABxAABxAABxAABxAABwAABwAABwAABwAABuAABbAABMAABJAABJAABJAABJAABJAABJAABJAABJAABIAABIAABIAABIAABIAABIAABIAABHAAA+AAAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOERQnMDgnMDgnMDgnMDgnMDgoMTkoMTkoMTkyO0M+Rk5ASFBASFBASFBASFBASFBASFBARUpBQUFBQUFBQEBBQEBBQEB9IiLBAADBAADBAADBAADCAADCAADCAADDAADYAADqAADqAADqAADqAADrAADrAADrAADrAAD0AAD6AAD6AAD6AAD6AAD6AAD6AAD6AAD6AAD6AAD6AAD6AAD6FQD6MAD6MAD6MAD6MQD6MQD6MQD6MQD6MQD6RQD6UAD6VwD6YAD6YAD6YAD6YwD6cAD6cAD6cQD6dAD6eAD6fgD6hwD6igD4iADohADXgQDagwDpkwD4oAD6oQD6oQD6oQD6ogD6ogD6ogD6pQD6rQD6sQD6swD6twD6vQD6xQD6yAD6yQD6yQD6ygD6zgD61wD64AD66wD68wD6+AD6+gD6+gD6+gD6+gD6+gDh4hNqcmphaXFhaXFkbHRvd393gIh5gol5gol6gomDhoqJiYqJioqKioqPkZSZoamZoamZoamaoqqaoqqaoqqdpa2rs7uxucGxucGxucGxucGyusKyu8O0vMW7xM7J0uDR2urR2urR2urS2+vS2+vS2+vS2+vS2+vT3OvZ4e/k6/br8vnu9Prt9Prs8/rr8/rt9Prx9vr3+fr6+vr6+vr6+vr7+/r7+/r7+/r7+/r7+/r7+/r7+/r7+/r7+/r7+7v7+4n7+4n7+4n7+4n7+4n7+4n7+4n7+4n7+4n7+4n7+4b7+4L7+4L7+4L7+4L7+4L7+3/7+3b7+2v7+2H7+177+1v7+1kwimN7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4wobFS4TBPgi2gAAAEdpVFh0Q29tbWVudAAAAAAAR2VuZXJhdGVkIGJ5IGpzZ2lmIChodHRwczovL2dpdGh1Yi5jb20vYW50aW1hdHRlcjE1L2pzZ2lmLymRJSkEAAAQ8ElEQVR42u2dv47qvBLAv4I+b8AD5CEoadzS0uQR0qRIgSJF2tIN0haR0ColzTZptqWm3jeYluIrV0K6nhn/DU6AsHvvPXvwngOJ43jxjxmPPR5n/0mfaTD980TwhHOZsiecQTTZU3IG0TzhjKC5hc1fCCfLnnDG0dzE5i+Dk2VPOFfR3MbmL4KTZU84t6C5kc1fAifLnnBuRHMrm78ATpY94Qyk/AE2vxtOFk9POGlWPMrmt8IpyyxT/7L8j4MDQG8CQPyQNpUGTvEIm0fgiE638l428zkQmvkaKHWDEGGKzORZTnAQTPm/gYNoqJWuJV5j7Jl799io2wDWc51WRoL6VfjV35aklGVZZAXBUSpV5I+wmQoH0SSYzMcPz/gU9AG9z8C7kkOa+Ino+FUAgFffTS1q21YSnBIFp8we7o6nwlFoZjqZNvsn+hT0gX4HV24F6SxI0KtCH3fWJI8PZkopWw2nUqIzAif9cTgOjWmN0K0RARzB+YA0AwIzhkNqZCoRETj+gGWgi1E9S14QnHO7VXDqklMet1V3tPIdpsCBlUnS9BEd55mvWtCpUh7IMVeksKHL5oo64lNTG7gqODPn+0f8d5RRVopCUVYI59Q2Um63Gk4RsVXpXWjgfQIcWFNq8GsXYd4ajNrpM3pXyMBehQ0f2cKgrwCXYSJUgWfGBpQkL+uyUFpUyy3C2Sk4u0rTwav5VIV6J9NwPxzIMSk0nRulCMyk/9ruSCoEXFjqd2qs4MOUXuxppw6krsJVeHUioPQJWSjBadrzqUW9apReVQynKItJZBgNvN8PBzaYeuO3DnPVf6m/bC60AVOa3/keaChns+FxoC5gq9iA/Qrg6jSpLGVdlVUt5a49KTioV8pe1QzHdMvpFDTYX9wNR7WHrEKABzBDv5pzKqTfOMMMjOlQ0rDGXEdmQRUO0wicHGWmRjbY5Sg4Ozbm0oOTTkSjBGeKtVJ4oFHJjdcEnquW4auWDk76nS81xurTYZOCLRWpAlz5YTpFiVzw/5bhkL3yJWcyGmrcJFOOQ0AnCqgSdIIywXplJEdGJEdLh5SmGMSqAK/6QThKRrb8GxoNp6GRTjURjocGBeeBEfLGCT7oDsXoguCLm43tRi5KpyZbfUX2Vq+KvlpF6Sg4qFZooxDOmfWq9jrkO5r0+XlcQiA4D8yttNVxh8BvAsWAbJQ0r8ZapV5fy+f4IdCapf0qPNN3BU6ldEsJzvl0wjmEnkHQKDAv8jvI7JeLHpsHZuWOTsfWnRMqBWEBTUG9qs5304NjG68PLqrgIcA4HYSDllvZqrOeYDk4OHTObiTzqcgsFj2lmgIHggEPq4LXso0VAwcnV/2rhYNQJdjG8wGs41WMwiFjhSok3ezTwbnRjBsyETYT4AhjpWhEu8FOdO0nk4E9Cl4GO1R2I2Kw42J9MFTFEJ3cGquw1/Xh8OzqRjIxNlPUClY8OjZzIZ4UYaV+BlEz0yqwMyihD8w5z6J4rkV1rP06xRCcwnY5A3Aq1qtiRHo+j0dLJspm2jhnltvptJo52xm0ztFT8k47cWhCrhDpaTi+bcD5NDrwZul2Os7FZ4OiQ/7hGJythlNrezXEJiQTZzOpQ4bQTwXGXcVHSeplmFwIbgLPsWVvVy8dsqJTSELnWR9OhbYoBqfRTgtyemWkW9fJDLCZBEfA3Lk4lV7M59qhSfn8qjNsLqTuJtC+UnCXVZ5fB+hXiC5EqYOafKGVGgNWIZzdlqeiDdqrnD0XIZ7jBZnFe5zNxBEyrJz31xsY8AE3THizUg0ELJs0cHfQdeHXQf7jyNqEbWhNvlA1wEE5CXylDWsVuXXQJVj0wFyQCdAEbCaOc4SuSgwsGgTfuTDnon+lXyCooxtbt6lLEhy5Q70K4Oy2ZNy32q0zLjJ9NCGbP3VRj5quDHmLA53Qy96gE0Nu64BMVGQW+/eP4wibPxUOSQXON7dKr8I1iJ12YtTjIqPAYDqMsPmT4aBWoXUqeys0DToxRkVGg6F0HGbzx66Vc3fcnsg6DZS5CubjcDh8fGo0x/cHlmYmLv7+GJxKNjtacahjbpvrYJANis3xcwDN7XBwhRPGoIme9UKHGIzZuutBBHoW14H/yyydutnpFYeIWboOxrBR6TOO5lY4iCZNbXsEBGh44KIKJAYHkUlScEYf/FV1VdSWFUMMBX8d/vWAN7JpyTPa43IVzOHz83hwbIbQ3AaH0WB77PceQsMZBWckZiCX8ABZTUb5SrJyq+qpKys0wygarKDrUrN8RcvzI6p9HLNKl/IC19DcAsegwXYJ0XUah7uiPnAXunsgkJHQEQRBTtfPCu4E0bn7QuG95HILmJ55GkdzAxy/gWpqmLgWmiuqiR4DnEPCKk0jrQZfbpycXUqD9RjRSzeA9l6BIV0KBjajZG6AEzTGfLYE/A8aCA41RsSFH2/rzRJEHI7/7oPqFT3e2vUqefkEgNtl5iY4biptJ4342vnX8AMHZcTFbfaKCIvSZPwyRAlsRenc9Di96ezxDpN0PBz6bG4gcxVO4LlhB8vcxBrZi9i2oIzqQ1dJLKFrb04VWIeNSGNwbMXzIDrqLi6HY2CS7iZzDQ6EEUYzNL9JEsbQ0NlcZS6XKUckkYN0Fk3IInGBO1Q2YoH42hq/icAZeIxy6RtqFJU4lTu4XIXj4nAwrTl6YDZbrcG/zG1YLenXcobo3WrTBsuu9Kqd9jjH4Ky0B3nuC8t9I7sHuVyDA1E0Cs4mgENf/urzwDfpECawNDBt8pUDOeMQp84SmEXhBMLycYOVZol5SI1uhxOsljCaDttng4p0AXWWzD4/F3wXhzWlnb6GLiscLrtFl0QvKugFHQkeHH+sjE6oT4Vlf8uoboDKdCxX4MAFGoTDLRR6DKjPlDAZwUm5waKbMTdhZhO5g2MEb6PXvWYQGnD2zeGo5D3Qo+UPdLnT4ATLs87dm3sLkcKczVarw97cyOu5YrXGhUw3GZO6qjTJbWgc5Xi/U1tcfvPhLGMjF6KCVnocy/RY0mE4ghZw8zxczw/gpA7O+/vSh9OAWK10mFtAwodjidikWCyXSmssnI8BJjzUHZ0jUdRtlkk5kcu4WgmwwgPX4eyxyyGDpYMAZ6uAqrBwZnS7ayoC8ZOBAz0+Q0wuheWkUouBO3VWSJlPJTNurZzwxNXKg7NHwVnsx4YFPpyPj3fXk/hYPj78sayeDNGkiP1SYb8b7VlOJ4aDYUxZKWUxGQ3DeVNpsUj9n57wKDOyWARwTAwNne0Jzj7d129vcKkIARyMLh6xPj04l1Oi8Q73dDJwdkp08qrvYb4bztvb19fXcr/wfpa2q+CwUNkCEbOxn7ChEAF9pjoLdXmfvrzUb4vLlKZefCnap+i4lnVocAwX4cIczu1u22dzarfkeq+p43lErd6+AFTzvg7vx/3X8rA/fKGZsMIjXcSnxYFxbS6ONv0kOMv05fXrawwOMkY4A8PaC9MzIi0VxY8ynAu5UXAa9J9WuELzmFq9vr2og9fXr3SvXvZ0pF6sw9OL+YQg/tHGO6JaLQkOQByO0GW7FId9rm8d6GPjTKQX7u/BSWNwdrhNBJev5GNq9fqKcF5eXtKFelnQEb9o4fmXE2oTH3AWgMleGDgqfUT7nM7cKZt/IR1Xm8B4qXv5Tv2reLkzK+qtgeMtWXlw0Lnc0BeSP6RW9esrrg4ijEX4ckFHNzF8Yzh7hFPXLwevB9HeNxS5VpeNwenx0NV2Teu+CPv1oGe9rvKS4vlDNn04DYVsP9IjM5zXWsn+4uInXWo67OcHfQDhG8N5J8mpazOid2bXr0ENzlqCY7RF80h1ASyiq+0kn3b2Ugs6QKkunVZF4ZxbDLulqORHpw+1Smqcvoz8LLTRol5HfTjufTgeXYDuixYI56Dg7FGvLhRFh6dz2c3GBqbb8PaNCXH3ot0VHNPTQdt43R6t91b1OBxc0Grb8+4xNretWwmzR0GkG3pzex3wfbPhQeDyyu0oNF4Ard34kNu6MBYdGv5VndsWIX2Lib1JJbdaq8bgKIrpz8MxoxRsSG4iz904J8/Z8lP3aYYzaxuBLvTdKqNLaR4eVMrWHYKQd8ztzEDBjrZ4242yQ1taJh+Dg/uLlDFP/ytwTIAwzbZxnJODGyGv13snNGYgvPLjjt3tq/7sgwbNDc5UGjfXtVu0cj28ctHb6RYlwtqqATgU69+k/w04tn3q0+nWgeeyWKm51aIHZzbTm8288HbpMwvg6I1srmgbwDFFSa9qFJ3mKhzcmvZDcPp7zYLmhQ4ZyrKiY4oxHHQCeoHpCu26D0cSHG9fn5nq+nA6lh1SskJJzbY1Xc4YHPlTkuMH5bnp+caHo4U9AqchOITGaQr6vlYER/ji2Mbh9DwAdl+kGh0r0XGC8z+Boz4OgHEBS+9De3C8rP1+4WuVmHGkRSOD/R4aThcIntBw5BgcVzjNUHSuwDn/NBwUFNoB7H/7Q3AUnVCrUPQCNNgy6s5zPZaD1mjV2nYz0qlv3CXb4bwKe51xOKcfhhN4kfOoWvlw8vdFoFXzi/sx0n+t1cu5lT2t6jQvzS/mWMPTjETnfAOc7Q/C2VzCaYbhEB3bmyZJnw54vsMuolV4ZDv+wJV2ASdzhnwEzhltmhrvSPIGfq8Pub9TyKxR4TKtCNatxGq1Dte40i6ZrebB6o63wX6th706f+VKCH/vPvi7+N0vY8k53wKH5qYIp5zo8Bpb8dxcwhHz2eWiHq5re0kynMTHC2ETHQd6NEEPiF+gD6fDRwc1Hgbt38kL2YZwTqx7CKcqvh2OgMhS92wWPoRCL3f7pdS0KFFwFJ3OFQmXmM3erBV20l4Zrzzvw3LBcvZKVlQ7H0Pb8M6q7QWcMztMcR/NNKfOaCDBuh8k0VGQRfDgEzybz8PHvXQYSjFLOqFrgMG4DVX28ikx/uYt6N2o4JTS0yoUEBSMvGz6cM6a3XTR+Wd01tCPzhEUXZPoCFgbnyPm4YOCOorimYPZPTUY8YMDYX24BneVJCeJPLwIz8sqYKP6lhof6lHt+nCMw1Rq0Sm/FU6qdw7N+yFcEAR9UdibX0qfJsB7j2A4VAxMxko/vIpOZqDzZ+HDrGgLVlrJc98q4Z68eggObd5TolNW3wvHD4+2QaOJ2RiVurMwmlSH77G3IRY12Y88TcxcxZzQYeJvK3K3yabf/Aabvm3jcM44h6cN1vXuW+F4gY+JZuA+MThOYRwypEEI9lA0pI2H9CDQljXNqbfjSrWOWt827YVs1GVRNQNwcKSsup2qquX3wvHazPuB/S8Tgo/vRbCDi2SPBg6HEey9WhwnDw1v2dRwducL2dhWJWrV+RQXne1OiU4tZbP7XjgmmW/T+8S9rXRu78PVx/sFex+CauLb81R3gXBqgnO+lA/cfyYHuhyWNV6k2TbfCuf/I2W0ZdMsOLQx2aiHuhxe4Nvxw1K2+a+Dk+EqVa0Asd6cY7KxbYa0ihymWnRk8fvgFEpoZCWbIdGg5g+yObGvnRf4sl8GB593J1W3sh3Um2up1Y9kUjYr/31wanlu7frvNDisV3WR/So4OG2S23M7XXAIzo4fYFX+NjgFdjdtVHDCoqNdEsdcVHn2i+DQUyTpwaPnQShXEbmYi/v06v8fTlHS+ub5OpZBRqRX3CeX+e95Bjs/e0q7au6/3YOj++Sq+EVw8HG+is0DVVg4O34i8K/50waoVNXj1bS+6OS/B8531eREp8iff04lxodEpyyecKKJH9L+/BNOg3jq23udv+9PVeJA8Pln4wZT+YQzagWfcB5O/wEMeIkKNL9OYwAAAABJRU5ErkJggg=="},64:function(e,t,n){e.exports=n(89)},87:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(20),i=n.n(o),c=n(32),u=n.n(c),s=n(3),l=n(4),p=n(10),f=n(23),d=n(2),m=n(5),A=n(6),g=1;function y(){return g++}var v=n(16);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach(function(t){Object(A.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function b(e){var t,n;return n=e,0===(t=Array.isArray(n)&&(0===n.length||"composedX"in n[0])?e.reduce(function(e,t){return e.concat(t.tiles)},[]):e).length?0:Math.max.apply(Math,Object(m.a)(t.map(function(e){return e.composedY})))}function O(e){return 0===e.length?0:Math.min.apply(Math,Object(m.a)(e.map(function(e){return e.composedY})))}function D(e){return 0===e.length?0:Math.max.apply(Math,Object(m.a)(e.map(function(e){return e.composedX})))}function x(e){return 0===e.length?0:Math.min.apply(Math,Object(m.a)(e.map(function(e){return e.composedX})))}function E(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"composedX";return e.map(function(e){return w({},e,{composedX:e[r]+t,tiles:0===n?e.tiles:P(e.tiles,n)})})}function j(e,t,n,r){return e.map(function(e){return"number"===typeof r&&e.pauseId!==r?e:w({},e,{sprites:E(e.sprites,t,n)})})}function C(e){var t=O(M(e));return t>=0?e:e.map(function(e){return w({},e,{groups:(n=e.groups,r=-1*t,n.map(function(e){return w({},e,{sprites:B(e.sprites,r)})}))});var n,r})}function M(e){return S(e).reduce(function(e,t){return e.concat(t.tiles)},[])}function S(e){return e.reduce(function(e,t){return e.concat(t.groups.reduce(function(e,t){return e.concat(t.sprites)},[]))},[])}function I(e){return e.reduce(function(e,t){return e.concat(t.tiles)},[])}function B(e,t){return e.map(function(e){return w({},e,{tiles:P(e.tiles,t)})})}function P(e,t){return e.map(function(e){return w({},e,{composedY:e.composedY+t})})}function k(e,t){var n=e.reduce(function(e,t){return e.concat(t.sprites)},[]),r=function(e){var t=D(e);return e.map(function(e){return w({},e,{spriteMemoryIndex:e.spriteMemoryIndex,composedX:2*t-(e.composedX+16),tiles:e.tiles.map(function(e){return w({},e,{horizontalFlip:!e.horizontalFlip})})})}).reverse()}(n),a=function(e){var t=x(e),n=D(e)+16,r=n-t;return e.map(function(e){return w({},e,{spriteMemoryIndex:e.spriteMemoryIndex,composedX:t-r+(n-(e.composedX+16)),tiles:e.tiles.map(function(e){return w({},e,{horizontalFlip:!e.horizontalFlip})})})}).reverse()}(n);return[{id:y(),pauseId:t,sprites:a},{id:y(),pauseId:t,sprites:r}]}function N(e){var t=x(e.sprites),n=O(I(e.sprites));return 0===t&&0===n?e:w({},e,{sprites:E(e.sprites,-t,-n)})}function G(e){var t=x(S([e])),n=O(M([e]));return 0===t&&0===n?e:w({},e,{groups:j(e.groups,-t,-n,void 0)})}var F=n(29);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var L=128,z=65536,q=66560,Y=67584;function T(e){if(e<0)throw new Error("getYSpriteSizeSticky: sprite index under zero!");var t=window.Module._get_tile_ram_addr()+q+2*e,n=window.HEAPU8[t]|window.HEAPU8[t+1]<<8,r=!!(n>>6&1);if(r)return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(n,!0).forEach(function(t){Object(A.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},T(e-1),{sticky:r});for(var a=63&n,o=function(e,t,n){var r,a=512-e;if(a>272&&(a-=512),2===(r=32===n?1:n>=33?2:0)||1===r&&255===t)for(;a<0;)a+=t+1<<1;return a}(n>>7,W(e,{ignoreSticky:!0}).yScale,a),i=[],c=0;c<a;++c)i.push((o+16*c)%512);return{y:o,tileYs:i,spriteSize:a,sticky:r}}function R(e){if(e<0)throw new Error("getX: sprite index under zero!");var t;if(T(e).sticky){var n=W(e).xScale;t=R(e-1)+n}else{var r=window.Module._get_tile_ram_addr()+Y+2*e;t=(window.HEAPU8[r]|window.HEAPU8[r+1]<<8)>>7}return t>=496&&(t-=512),t}function W(e,t){if(e<0)throw new Error("getScale: sprite index under zero!");if((!t||!t.ignoreSticky)&&T(e).sticky)return W(e-1);var n=window.Module._get_tile_ram_addr()+z+2*e,r=window.HEAPU8[n]|window.HEAPU8[n+1]<<8;return{yScale:255&r,xScale:1+(r>>8&15)}}function Q(e){var t=T(e),n=t.sticky,r=t.y,a=t.tileYs,o=t.spriteSize;return{spriteMemoryIndex:e,tiles:function(e,t,n){for(var r=window.Module._get_tile_ram_addr(),a=L*e,o=[],i=0;i<4*t;++i)o[i]=window.HEAPU8[r+a+i];for(var c=[],u=0;u<o.length;u+=4){var s=o[u]|o[u+1]<<8,l=o[u+2]|o[u+3]<<8,p=s|(l>>4&15)<<16,f=0;8&l?f=3:4&l&&(f=2);var d=l>>8&255,m=!!(1&l),A=!!(2&l);c.push({y:n[u/4],tileIndex:p,paletteIndex:d,horizontalFlip:m,verticalFlip:A,autoAnimation:f})}return c}(e,o,a),x:R(e),sticky:n,y:r,spriteSize:o}}var H=16,J=2*H;function V(e){var t=e>>15&1;return[((e>>8&15)<<2|(e>>14&1)<<1|t)/63*255,((e>>4&15)<<2|(e>>13&1)<<1|t)/63*255,((15&e)<<2|(e>>12&1)<<1|t)/63*255,255]}function Z(e){var t=(window.Module._get_current_pal_addr()+e*J)/2;return Object(m.a)(window.Module.HEAPU16.slice(t,t+H))}function U(e){var t=e.map(V);return[[0,0,0,0]].concat(Object(m.a)(t.slice(1)))}function K(){var e=window.Module._get_current_pal_addr();return e+=8190,e/=2,window.Module.HEAPU16[e]}function _(e){var t=V(e);return"rgb(".concat(t[0],", ").concat(t[1],", ").concat(t[2],")")}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(n,!0).forEach(function(t){Object(A.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function te(e){var t=e.y,n=(e.paletteIndex,Object(F.a)(e,["y","paletteIndex"])),r=Z(e.paletteIndex);return ee({},n,{composedY:t,neoGeoPalette:r,rgbPalette:U(r)})}function ne(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return re(function(e){for(var t=e,n=Q(t);n.sticky&&t>0;)n=Q(t-=1);var r=[];do{r.push(t),n=Q(t+=1)}while(n.sticky);return r}(e),t,n,r)}function re(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=e.map(function(e,a){var o=Q(e);return ee({},r,{pauseId:n,spriteMemoryIndex:e,tiles:o.tiles.map(te),screenX:o.x,screenY:o.y,composedX:t+16*a,composedY:o.y})});return{id:y(),pauseId:n,sprites:a}}function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oe(e,t,n){return t.map(function(t){return t===e?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(n,!0).forEach(function(t){Object(A.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{},n):t})}function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(n,!0).forEach(function(t){Object(A.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ue(e,t,n){return 0===e.length?e:e.map(function(e){var r=e.composedY>=n,a=e.composedY-n;return ce({},e,{composedY:r?t+a:e.composedY+16})})}function se(e,t,n){return e.map(function(e){return ce({},e,{tiles:ue(e.tiles,t,n)})})}function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(n,!0).forEach(function(t){Object(A.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var fe=1379916;var de,me=(de=function(e,t,n){switch(t.type){case"ExtractSpritesToGroup":case"ExtractSprite":var r;if("spriteMemoryIndex"in t){var a=t.spriteMemoryIndex,o=t.composedX;r=ne(a,o,n.pauseId)}else{var i=t.spriteMemoryIndices,c=t.composedX;r=re(i,c,n.pauseId,{isAdhoc:!0})}var u=Object(m.a)(e.layers).reverse().find(function(e){return!n.hiddenLayers[e.id]})||{id:y(),groups:[r]},s=u.groups.filter(function(e){return e.pauseId!==r.pauseId||!function(e,t){var n=e.sprites.map(function(e){return e.spriteMemoryIndex}).sort(),r=t.sprites.map(function(e){return e.spriteMemoryIndex}).sort();return Object(v.isEqual)(n,r)}(e,r)});return r=function(e,t){var n=t.find(function(t){return t.pauseId===e.pauseId});if(!n)return e;var r=n.sprites[0].composedX-n.sprites[0].screenX;return w({},e,{sprites:E(e.sprites,r,0,"screenX")})}(r,s),ce({},e,{layers:0===e.layers.length?[u]:oe(u,e.layers,{groups:[].concat(Object(m.a)(u.groups),[r])})});case"MoveSprite":var l=t.spriteMemoryIndex,p=t.newComposedX,f=t.pauseId,A=e.layers.find(function(e){return e.groups.some(function(e){return e.sprites.some(function(e){return e.spriteMemoryIndex===l&&e.pauseId===f})})});if(!A)return e;var g=A.groups.find(function(e){return e.pauseId===f&&e.sprites.some(function(e){return e.spriteMemoryIndex===l})});if(!g)return e;var h=p-g.sprites[0].composedX,b=j(A.groups,h,0,f);return ce({},e,{layers:oe(A,e.layers,{groups:b})});case"DeleteGroup":var O=t.group,D=e.layers.find(function(e){return e.groups.indexOf(O)>-1});if(!D)throw new Error("DeleteGroup: can't find the layer this group belongs to");var I=Object(v.without)(D.groups,O);return ce({},e,{layers:oe(D,e.layers,{groups:I})});case"NewLayer":var B={id:y(),groups:[],hidden:!1};return ce({},e,{layers:[].concat(Object(m.a)(e.layers),[B])});case"DeleteLayer":var P=t.layer;return ce({},e,{layers:e.layers.filter(function(e){return e!==P})});case"ExtendLayerViaMirror":var N=t.layer;if(0===N.groups.length)return e;var G,F=k(N.groups,n.pauseId),X={id:y(),groups:F,hidden:!1},L=e.layers.indexOf(N);return G=0===L?[X].concat(Object(m.a)(e.layers)):[].concat(Object(m.a)(e.layers.slice(0,L-1)),[X],Object(m.a)(e.layers.slice(L-1))),ce({},e,{layers:G=function(e){var t=x(S(e));return t>=0?e:e.map(function(e){return w({},e,{groups:(n=e.groups,r=-1*t,n.map(function(e){return w({},e,{sprites:E(e.sprites,r,0)})}))});var n,r})}(G)});case"RemoveSpriteFromExtractedGroup":var z=t.group,q=t.sprite,Y=e.layers.find(function(e){return e.groups.indexOf(z)>-1});if(!Y)throw new Error("RemoveSpriteFromExtractedGroup: cant find layer for group");var T=oe(z,Y.groups,{sprites:Object(v.without)(z.sprites,q)});return ce({},e,{layers:oe(Y,e.layers,{groups:T})});case"RotateLayer":var R=t.layer,W=oe(R,e.layers,function(e,t){var n=M(t),r=n.reduce(function(e,t){return t.composedY<e&&t.composedY%16===0?t.composedY:e},1/0);if(r===1/0)return e;var a=n.reduce(function(e,t){return t.composedY>e&&t.composedY%16===0?t.composedY:e},-1/0);if(a===-1/0)return e;var o=e.groups.map(function(e){return ce({},e,{sprites:se(e.sprites,r,a)})});return ce({},e,{groups:o})}(R,e.layers));return ce({},e,{layers:W});case"PushDownLayer":var Q=t.layer,H=C([Q]),J=Object(d.a)(H,1)[0];return ce({},e,{layers:oe(Q,e.layers,J)});case"PushAllDown":return ce({},e,{layers:C(e.layers)})}},{initialState:{past:[],present:{layers:[]},future:[],hasStarted:!1,isPaused:!1,pauseId:0,isCropping:!1,crop:void 0,isPreviewing:!1,isBuildingGif:!1,showGrid:!1,hiddenLayers:{},hiddenGroups:{},isDemoing:!1},reducer:function(e,t){var n,r;switch(t.type){case"StartEmulation":return pe({},e,{hasStarted:!0});case"TogglePause":var a=!e.isPaused;return pe({},e,{isPaused:a,pauseId:a?e.pauseId+1:e.pauseId});case"ToggleGrid":return pe({},e,{showGrid:!e.showGrid});case"ToggleCropping":return pe({},e,{isCropping:!e.isCropping,crop:void 0});case"SetCrop":return pe({},e,{crop:t.crop});case"ClearCrop":return pe({},e,{crop:void 0,isCropping:!1});case"TogglePreview":return pe({},e,{isPreviewing:!e.isPreviewing});case"BuildGif":return pe({},e,{isBuildingGif:!0});case"StopBuildGif":return pe({},e,{isBuildingGif:!1});case"ToggleVisibilityOfGroup":var o=t.group;return pe({},e,{hiddenGroups:pe({},e.hiddenGroups,Object(A.a)({},o.id,!e.hiddenGroups[o.id]))});case"ToggleVisibilityOfLayer":var i=t.layer;return pe({},e,{hiddenLayers:pe({},e.hiddenLayers,Object(A.a)({},i.id,!e.hiddenLayers[i.id]))});case"undo":var c=Object(m.a)(e.past),u=c.pop();if(!u)throw new Error("undo: nothing to undo!");n=pe({},e,{past:c,present:u,future:[].concat(Object(m.a)(e.future),[e.present])});break;case"redo":var s=Object(m.a)(e.future),l=s.pop();if(!l)throw new Error("redo: nothing to redo!");n=pe({},e,{past:[].concat(Object(m.a)(e.past),[e.present]),present:l,future:s});break;case"SetDemo":var p=t.demoData;return r=p.spriteMemory,window.HEAPU8.set(r,window.Module._get_tile_ram_addr()),function(e){Object.keys(e).forEach(function(t){var n=e[t];window.HEAPU8.set(n,window.Module._get_rom_ctile_addr()+16*Number(t)*4*2)})}(p.tileMemory),function(e){Object.keys(e).forEach(function(t){var n=e[t],r=(fe+32*Number(t))/2;window.Module.HEAPU16.set(n,r)})}(p.palettes),window.Module._get_current_pal_addr=function(){return fe},pe({},e,{isDemoing:!0,hasStarted:!0,isPaused:!0,pauseId:1});default:n=pe({},e,{past:[].concat(Object(m.a)(e.past),[e.present]),present:de(e.present,t,e)})}return n}}),Ae=me.initialState,ge=me.reducer,ye=Object(r.createContext)(Ae),ve=Object(r.createContext)(function(){return 0}),he=function(e){var t=e.children,n=Object(r.useReducer)(ge,Ae),o=Object(d.a)(n,2),i=o[0],c=o[1];return a.a.createElement(ve.Provider,{value:c},a.a.createElement(ye.Provider,{value:i},t))},we=n(7),be=n.n(we),Oe={0:3,1:2,2:1,3:0,4:7,5:6,6:5,7:4},De=Object(v.memoize)(function(e){for(var t=window.Module._get_rom_ctile_addr(),n=128*e,r=[],a=0;a<128;++a)r[a]=window.HEAPU8[t+n+a];for(var o=[],i=0;i<16;++i)for(var c=0;c<8;++c){var u=r[8*i+Oe[c]],s=u>>4&15,l=15&u;o.push(s,l)}return o});function xe(e,t,n){var r=De(t);e.width=16,e.height=16;for(var a=e.getContext("2d"),o=a.getImageData(0,0,16,16),i=0;i<16;++i)for(var c=0;c<16;++c)for(var u=n[r[16*i+c]],s=0;s<u.length;++s)o.data[4*(16*i+c)+s]=u[s];a.putImageData(o,0,0)}var Ee=n(34),je=n.n(Ee),Ce=a.a.memo(function(e){var t=e.y,n=e.tileIndex,r=e.rgbPalette,o=e.horizontalFlip,i=e.verticalFlip,c=e.outlined;var u=o?-1:1,s=i?-1:1,l=be()(je.a.root,Object(A.a)({},je.a.outlined,c)),p={transform:"scale(".concat(u,",").concat(s,")"),top:t};return a.a.createElement("canvas",{className:l,"data-tileindex":n,ref:function(e){return e&&void xe(e,n,r)},style:p})}),Me=n(48),Se=n.n(Me),Ie=function(e){var t=e.data,n=e.autoAnimate,o=e.animationCounter,i=e.canDrag,c=e.outlineTiles,u=e.setYToZero,s=e.overrideX,l=Object(p.c)({item:{spriteMemoryIndex:t.spriteMemoryIndex,pauseId:t.pauseId,type:"Sprite",isAdhoc:t.isAdhoc},canDrag:function(){return i}}),m=Object(d.a)(l,3),A=m[1],g=m[2];Object(r.useEffect)(function(){g(Object(f.b)(),{captureDraggingState:!0})},[g]);var y=t.tiles.map(function(e,r){var i=e.tileIndex;return n&&"number"===typeof o&&(3===e.autoAnimation&&(i=(-8&i)+(i+o&7)),2===e.autoAnimation&&(i=(-4&i)+(i+o&3))),a.a.createElement(Ce,{key:r,y:e.composedY-t.composedY,tileIndex:i,rgbPalette:e.rgbPalette,horizontalFlip:e.horizontalFlip,verticalFlip:e.verticalFlip,outlined:c})}),v={top:u?0:t.composedY,left:"number"===typeof s?s:t.composedX,gridTemplateRows:"repeat(".concat(t.tiles.length,", 16px)"),zIndex:t.spriteMemoryIndex};return a.a.createElement("div",{ref:A,className:Se.a.root,style:v},y)},Be=a.a.memo(function(e){var t=ne(e.seedSpriteMemoryIndex,0,0).sprites.map(function(e,t){return a.a.createElement(Ie,{key:t,data:e,canDrag:!1,setYToZero:!0})});return a.a.createElement("div",null,t)}),Pe=a.a.memo(function(e){var t=re(e.spriteMemoryIndices,0,0).sprites.map(function(e,t){return a.a.createElement(Ie,{key:t,data:e,canDrag:!1,setYToZero:!0})});return a.a.createElement("div",null,t)}),ke=function(){var e=Object(p.d)(function(e){return{item:e.getItem(),initialOffset:e.getInitialSourceClientOffset(),currentOffset:e.getClientOffset(),isDragging:e.isDragging()}}),t=e.isDragging,n=e.item,r=e.currentOffset;if(!t||!r||"Sprite"!==n.type&&"Sprites"!==n.type)return null;var o,i={position:"fixed",top:r.y+4,left:r.x+4,zIndex:1e3};return o="Sprite"!==n.type||n.isAdhoc?"Sprite"===n.type&&n.isAdhoc?a.a.createElement(Pe,{spriteMemoryIndices:[n.spriteMemoryIndex]}):a.a.createElement(Pe,{spriteMemoryIndices:n.spriteMemoryIndices}):a.a.createElement(Be,{seedSpriteMemoryIndex:n.spriteMemoryIndex}),a.a.createElement("div",{style:i},o)};function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ge(){var e=Object(r.useContext)(ve),t=Object(r.useContext)(ye),n=(t.past,t.present,t.future,Object(F.a)(t,["past","present","future"]));return{state:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(n,!0).forEach(function(t){Object(A.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t.present,{},n),dispatch:function(t){return e("string"===typeof t?{type:t}:t)},undo:function(){e({type:"undo"})},redo:function(){e({type:"redo"})},canUndo:t.past.length>0,canRedo:t.future.length>0}}var Fe=n(51),Xe=n.n(Fe),Le=n(52),ze=n.n(Le);function qe(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.2);\n\n  & svg {\n    width: 30%;\n    height: 30%;\n  }\n"]);return qe=function(){return e},e}var Ye=l.a.div(qe()),Te=function(e){var t=e.className,n=e.onTogglePause,r=e.isPaused,o=r?Xe.a:ze.a;return a.a.createElement(Ye,{className:t,onClick:function(){return n()},title:"click to ".concat(r?"play":"pause")},a.a.createElement(o,null))};function Re(){var e=Object(s.a)(["\n  height: 100%;\n  padding: 8px;\n\n  display: flex;\n  flex-direction: column;\n  align-content: center;\n  justify-content: center;\n  text-align: center;\n  font-style: italic;\n  color: var(--dock-foreground-color);\n"]);return Re=function(){return e},e}function We(){var e=Object(s.a)(["\n  width: 320px;\n  height: 224px;\n  background-color: var(--dock-color);\n  position: relative;\n\n  & .pauseOverlay {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    opacity: 0;\n    transition-property: opacity;\n    transition-duration: 0.25s;\n    cursor: pointer;\n  }\n\n  & .pauseOverlay:hover {\n    opacity: 1;\n  }\n"]);return We=function(){return e},e}var Qe=l.a.div(We()),He=l.a.div(Re()),Je=function(e){var t=Ge(),n=t.state,r=t.dispatch;return a.a.createElement(Qe,{className:e.className},!n.isDemoing&&a.a.createElement(a.a.Fragment,null,a.a.createElement("canvas",{id:"canvas"}),a.a.createElement(Te,{className:"pauseOverlay",onTogglePause:function(){return n.isPaused?window.Module.resumeMainLoop():window.Module.pauseMainLoop(),void r("TogglePause")},isPaused:n.isPaused})),n.isDemoing&&a.a.createElement(He,null,"the game plays here in an emulator when not in demo mode"))},Ve=n(53),Ze=n.n(Ve),Ue=a.a.memo(function(e){e.y;var t=e.tileIndex,n=e.paletteIndex,r=e.horizontalFlip;var o=e.verticalFlip?-1:1,i={transform:"scale(".concat(r?-1:1,",").concat(o,")")};return a.a.createElement("canvas",{className:Ze.a.canvas,ref:function(e){return e&&function(e){var r=U(Z(n));xe(e,t,r)}(e)},style:i})}),Ke=n(54),_e=n.n(Ke),$e=function(e){var t=e.className,n=e.spriteData,r=n.spriteMemoryIndex;if(0===n.tiles.length)return null;var o=n.tiles.map(function(e,t){return a.a.createElement(Ue,{key:t,y:e.y,tileIndex:e.tileIndex,paletteIndex:e.paletteIndex,horizontalFlip:e.horizontalFlip,verticalFlip:e.verticalFlip})}),i={gridTemplateRows:"repeat(".concat(n.tiles.length,", 8px)"),zIndex:r},c=be()(_e.a.sprite,t);return a.a.createElement("div",{className:c,style:i},o)},et=n(24),tt=n.n(et),nt=function(e){var t=e.className,n=e.spriteData,r=e.focused,o=e.onClick,i=be()(tt.a.root,t,Object(A.a)({},tt.a.focused,r));return a.a.createElement("div",{className:i,onClick:o},a.a.createElement("div",{className:tt.a.index},n.spriteMemoryIndex),a.a.createElement("div",{className:tt.a.spriteContainer},a.a.createElement($e,{className:tt.a.sprite,spriteData:n})))},rt=n(13),at=n.n(rt);var ot=function(e){var t=e.className,n=Ge().state,o=Object(r.useState)([]),i=Object(d.a)(o,2),c=i[0],u=i[1],s=Object(r.useState)(null),l=Object(d.a)(s,2),m=l[0],g=l[1],y=Object(r.useRef)(null),v=Object(p.c)({item:{type:"Sprite"},begin:function(e){if(x&&y&&y.current){var t=e.getClientOffset().x-x.getBoundingClientRect().left-y.current.getBoundingClientRect().width,n=Math.floor(t/8);if(c.indexOf(n)>-1)return{type:"Sprites",spriteMemoryIndices:c.map(function(e){return C[e].spriteMemoryIndex})};if(n>=0&&n<C.length)return{spriteMemoryIndex:C[n].spriteMemoryIndex,type:"Sprite"}}},canDrag:function(){return n.isPaused}}),h=Object(d.a)(v,3),w=h[1],b=h[2],O=Object(r.useState)(null),D=Object(d.a)(O,2),x=D[0],E=D[1];if(Object(r.useEffect)(function(){b(Object(f.b)(),{captureDraggingState:!0})},[b]),!n.isPaused){var j=be()(at.a.root,at.a.message,t);return a.a.createElement("div",{className:j},"pause the game to load the current sprites")}var C=new Array(381).fill(1,0,381).map(function(e,t){return Q(t)}).filter(function(e){return e.tiles.length>0}),M=C.map(function(e,t){return a.a.createElement(nt,{key:t,spriteData:e,onClick:function(e){if(e.ctrlKey)u(c.concat(t)),g(null);else if(e.shiftKey)if(null!==m||1===c.length){var n=Math.min(m||c[0],t),r=Math.max(m||c[0],t);u(function(e,t){var n=t-e+1;return new Array(n).fill(0,0,n).map(function(t,n){return n+e})}(n,r))}else u([t]),g(t);else u([t]),g(null)},focused:c.indexOf(t)>-1})}),S=be()(at.a.root,t,Object(A.a)({},at.a.locked,!n.isPaused));return a.a.createElement("div",{className:S,ref:function(e){E(e),w(e)}},a.a.createElement("div",{key:n.pauseId,className:at.a.spriteEntries,style:{gridTemplateColumns:"1fr repeat(".concat(C.length,", max-content) 1fr")}},a.a.createElement("div",{className:at.a.filler,ref:y,style:{gridColumn:1}}),M,a.a.createElement("div",{className:at.a.filler,style:{gridColumn:C.length+2}})))},it=function(){var e,t,n,r,a,o,i,c,u,s,l,p,f={},d=-1,m=12,A=5003,g=m,y=1<<m,v=[],h=[],w=A,b=0,O=!1,D=0,x=0,E=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],j=[],C=f.LZWEncoder=function(a,o,i,c){e=a,t=o,n=i,r=Math.max(2,c)},M=function(e,t){j[p++]=e,p>=254&&P(t)},S=function(e){I(w),b=s+2,O=!0,G(s,e)},I=function(e){for(var t=0;t<e;++t)v[t]=-1},B=f.compress=function(e,t){var n,r,a,o,f,m,A;for(O=!1,c=k(i=u=e),l=(s=1<<e-1)+1,b=s+2,p=0,o=N(),A=0,n=w;n<65536;n*=2)++A;A=8-A,I(m=w),G(s,t);e:for(;(a=N())!=d;)if(n=(a<<g)+o,v[r=a<<A^o]!=n){if(v[r]>=0){f=m-r,0===r&&(f=1);do{if((r-=f)<0&&(r+=m),v[r]==n){o=h[r];continue e}}while(v[r]>=0)}G(o,t),o=a,b<y?(h[r]=b++,v[r]=n):S(t)}else o=h[r];G(o,t),G(l,t)},P=(f.encode=function(n){n.writeByte(r),a=e*t,o=0,B(r+1,n),n.writeByte(0)},function(e){p>0&&(e.writeByte(p),e.writeBytes(j,0,p),p=0)}),k=function(e){return(1<<e)-1},N=function(){return 0===a?d:(--a,255&n[o++])},G=function(e,t){for(D&=E[x],x>0?D|=e<<x:D=e,x+=i;x>=8;)M(255&D,t),D>>=8,x-=8;if((b>c||O)&&(O?(c=k(i=u),O=!1):c=++i==g?y:k(i)),e==l){for(;x>0;)M(255&D,t),D>>=8,x-=8;P(t)}};return C.apply(this,arguments),f},ct=function(){var e,t,n,r,a,o={},i=256,c=499,u=491,s=487,l=503,p=3*l,f=i-1,d=4,m=100,A=16,g=1<<A,y=10,v=10,h=g>>v,w=g<<y-v,b=i>>3,O=6,D=1<<O,x=b*D,E=30,j=10,C=1<<j,M=8,S=1<<M,I=j+M,B=1<<I,P=[],k=[],N=[],G=[],F=o.NeuQuant=function(e,o,c){var u,s;for(t=e,n=o,r=c,a=new Array(i),u=0;u<i;u++)a[u]=new Array(4),(s=a[u])[0]=s[1]=s[2]=(u<<d+8)/i,N[u]=g/i,k[u]=0},X=function(){for(var e=[],t=new Array(i),n=0;n<i;n++)t[a[n][3]]=n;for(var r=0,o=0;o<i;o++){var c=t[o];e[r++]=a[c][0],e[r++]=a[c][1],e[r++]=a[c][2]}return e},L=function(){var e,t,n,r,o,c,u,s;for(u=0,s=0,e=0;e<i;e++){for(n=e,r=(o=a[e])[1],t=e+1;t<i;t++)(c=a[t])[1]<r&&(n=t,r=c[1]);if(c=a[n],e!=n&&(t=c[0],c[0]=o[0],o[0]=t,t=c[1],c[1]=o[1],o[1]=t,t=c[2],c[2]=o[2],o[2]=t,t=c[3],c[3]=o[3],o[3]=t),r!=u){for(P[u]=s+e>>1,t=u+1;t<r;t++)P[t]=e;u=r,s=e}}for(P[u]=s+f>>1,t=u+1;t<256;t++)P[t]=f},z=function(){var a,o,i,f,A,g,y,v,h,w,b,D,j,M;for(n<p&&(r=1),e=30+(r-1)/3,D=t,j=0,M=n,w=(b=n/(3*r))/m|0,v=C,(y=(g=x)>>O)<=1&&(y=0),a=0;a<y;a++)G[a]=v*((y*y-a*a)*S/(y*y));for(h=n<p?3:n%c!==0?3*c:n%u!==0?3*u:n%s!==0?3*s:3*l,a=0;a<b;)if(i=(255&D[j+0])<<d,f=(255&D[j+1])<<d,A=(255&D[j+2])<<d,o=R(i,f,A),T(v,o,i,f,A),0!==y&&Y(y,o,i,f,A),(j+=h)>=M&&(j-=n),0===w&&(w=1),++a%w===0)for(v-=v/e,(y=(g-=g/E)>>O)<=1&&(y=0),o=0;o<y;o++)G[o]=v*((y*y-o*o)*S/(y*y))},q=(o.map=function(e,t,n){var r,o,c,u,s,l,p;for(s=1e3,p=-1,o=(r=P[t])-1;r<i||o>=0;)r<i&&((c=(l=a[r])[1]-t)>=s?r=i:(r++,c<0&&(c=-c),(u=l[0]-e)<0&&(u=-u),(c+=u)<s&&((u=l[2]-n)<0&&(u=-u),(c+=u)<s&&(s=c,p=l[3])))),o>=0&&((c=t-(l=a[o])[1])>=s?o=-1:(o--,c<0&&(c=-c),(u=l[0]-e)<0&&(u=-u),(c+=u)<s&&((u=l[2]-n)<0&&(u=-u),(c+=u)<s&&(s=c,p=l[3]))));return p},o.process=function(){return z(),q(),L(),X()},function(){var e;for(e=0;e<i;e++)a[e][0]>>=d,a[e][1]>>=d,a[e][2]>>=d,a[e][3]=e}),Y=function(e,t,n,r,o){var c,u,s,l,p,f,d;for((s=t-e)<-1&&(s=-1),(l=t+e)>i&&(l=i),c=t+1,u=t-1,f=1;c<l||u>s;){if(p=G[f++],c<l){d=a[c++];try{d[0]-=p*(d[0]-n)/B,d[1]-=p*(d[1]-r)/B,d[2]-=p*(d[2]-o)/B}catch(m){}}if(u>s){d=a[u--];try{d[0]-=p*(d[0]-n)/B,d[1]-=p*(d[1]-r)/B,d[2]-=p*(d[2]-o)/B}catch(m){}}}},T=function(e,t,n,r,o){var i=a[t];i[0]-=e*(i[0]-n)/C,i[1]-=e*(i[1]-r)/C,i[2]-=e*(i[2]-o)/C},R=function(e,t,n){var r,o,c,u,s,l,p,f,m,g;for(m=f=~(1<<31),p=l=-1,r=0;r<i;r++)(o=(g=a[r])[0]-e)<0&&(o=-o),(c=g[1]-t)<0&&(c=-c),o+=c,(c=g[2]-n)<0&&(c=-c),(o+=c)<f&&(f=o,l=r),(u=o-(k[r]>>A-d))<m&&(m=u,p=r),s=N[r]>>v,N[r]-=s,k[r]+=s<<y;return N[l]+=h,k[l]-=w,p};return F.apply(this,arguments),o},ut=function(){for(var e=0,t={};e<256;e++)t[e]=String.fromCharCode(e);function n(){this.bin=[]}n.prototype.getData=function(){for(var e="",n=this.bin.length,r=0;r<n;r++)e+=t[this.bin[r]];return e},n.prototype.writeByte=function(e){this.bin.push(e)},n.prototype.writeUTFBytes=function(e){for(var t=e.length,n=0;n<t;n++)this.writeByte(e.charCodeAt(n))},n.prototype.writeBytes=function(e,t,n){for(var r=n||e.length,a=t||0;a<r;a++)this.writeByte(e[a])};var r,a,o,i,c,u,s,l,p,f={},d=null,m=-1,A=0,g=!1,y=[],v=7,h=-1,w=!1,b=!0,O=!1,D=10,x="Generated by jsgif (https://github.com/antimatter15/jsgif/)",E=(f.setDelay=function(e){A=Math.round(e/10)},f.setDispose=function(e){e>=0&&(h=e)},f.setRepeat=function(e){e>=0&&(m=e)},f.setTransparent=function(e){d=e},f.setComment=function(e){x=e},f.addFrame=function(e,t){if(null===e||!g||null===i)throw new Error("Please call start method before calling addFrame");var n=!0;try{t?e instanceof ImageData?(c=e.data,O&&r==e.width&&a==e.height||j(e.width,e.height)):e instanceof Uint8ClampedArray?e.length==r*a*4?c=e:(console.log("Please set the correct size: ImageData length mismatch"),n=!1):(console.log("Please provide correct input"),n=!1):(c=e.getImageData(0,0,e.canvas.width,e.canvas.height).data,O||j(e.canvas.width,e.canvas.height)),S(),C(),b&&(k(),G(),m>=0&&N()),I(),""!==x&&B(),P(),b||G(),X(),b=!1}catch(o){n=!1}return n},f.download=function(e){if(null===i||0==w)console.log("Please call start method and add frames and call finish method before calling download");else{e=void 0!==e?e.endsWith(".gif")?e:e+".gif":"download.gif";var t=document.createElement("a");t.download=e,t.href=URL.createObjectURL(new Blob([new Uint8Array(i.bin)],{type:"image/gif"})),t.click()}},f.finish=function(){if(!g)return!1;var e=!0;g=!1;try{i.writeByte(59),w=!0}catch(t){e=!1}return e},function(){o=0,c=null,u=null,s=null,p=null,w=!1,b=!0}),j=(f.setFrameRate=function(e){15!=e&&(A=Math.round(100/e))},f.setQuality=function(e){e<1&&(e=1),D=e},f.setSize=function(e,t){g&&!b||((r=e)<1&&(r=320),(a=t)<1&&(a=240),O=!0)}),C=(f.start=function(){E();var e=!0;w=!1,i=new n;try{i.writeUTFBytes("GIF89a")}catch(t){e=!1}return g=e},f.cont=function(){E();return w=!1,i=new n,g=!0},function(){var e=u.length,t=e/3;s=[];var n=new ct(u,e,D);p=n.process();for(var r=0,a=0;a<t;a++){var i=n.map(255&u[r++],255&u[r++],255&u[r++]);y[i]=!0,s[a]=i}u=null,l=8,v=7,null!==d&&(o=M(d))}),M=function(e){if(null===p)return-1;for(var t=(16711680&e)>>16,n=(65280&e)>>8,r=255&e,a=0,o=16777216,i=p.length,c=0;c<i;){var u=t-(255&p[c++]),s=n-(255&p[c++]),l=r-(255&p[c]),f=u*u+s*s+l*l,d=c/3;y[d]&&f<o&&(o=f,a=d),c++}return a},S=function(){var e=r,t=a;u=[];for(var n=c,o=0,i=0;i<t;i++)for(var s=0;s<e;s++){var l=i*e*4+4*s;u[o++]=n[l],u[o++]=n[l+1],u[o++]=n[l+2]}},I=function(){var e,t;i.writeByte(33),i.writeByte(249),i.writeByte(4),null===d?(e=0,t=0):(e=1,t=2),h>=0&&(t=7&h),t<<=2,i.writeByte(0|t|e),F(A),i.writeByte(o),i.writeByte(0)},B=function(){i.writeByte(33),i.writeByte(254),i.writeByte(x.length),i.writeUTFBytes(x),i.writeByte(0)},P=function(){i.writeByte(44),F(0),F(0),F(r),F(a),b?i.writeByte(0):i.writeByte(128|v)},k=function(){F(r),F(a),i.writeByte(240|v),i.writeByte(0),i.writeByte(0)},N=function(){i.writeByte(33),i.writeByte(255),i.writeByte(11),i.writeUTFBytes("NETSCAPE2.0"),i.writeByte(3),i.writeByte(1),F(m),i.writeByte(0)},G=function(){i.writeBytes(p);for(var e=768-p.length,t=0;t<e;t++)i.writeByte(0)},F=function(e){i.writeByte(255&e),i.writeByte(e>>8&255)},X=function(){new it(r,a,s,l).encode(i)};f.stream=function(){return i},f.setProperties=function(e,t){g=e,b=t};return f};function st(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=function(e){return{width:D(e)+16,height:b(e)+16}}(S(e)),a=document.createElement("canvas");a.width=r.width,a.height=r.height;var o=a.getContext("2d");return e.forEach(function(e){var n=S([e]);Object(m.a)(n).sort(function(e,t){return e.spriteMemoryIndex-t.spriteMemoryIndex}).forEach(function(e){e.tiles.forEach(function(n){var r=document.createElement("canvas"),a=n.tileIndex;3===n.autoAnimation&&(a=(-8&a)+(a+t&7)),2===n.autoAnimation&&(a=(-4&a)+(a+t&3)),xe(r,a,n.rgbPalette),(n.horizontalFlip||n.verticalFlip)&&(r=function(e,t){var n=t.horizontalFlip?-1:1,r=t.verticalFlip?-1:1,a=t.horizontalFlip?e.width:0,o=t.verticalFlip?e.height:0,i=document.createElement("canvas");i.width=e.width,i.height=e.height;var c=i.getContext("2d");return c&&(c.save(),c.translate(a,o),c.scale(n,r),c.drawImage(e,0,0),c.restore()),i}(r,n)),o.drawImage(r,e.composedX,n.composedY)})})}),n?function(e,t){var n=t[1].x-t[0].x,r=t[1].y-t[0].y,a=document.createElement("canvas");return a.width=n,a.height=r,a.getContext("2d").drawImage(e,t[0].x,t[0].y,n,r,0,0,n,r),a}(a,n):a}var lt=0;function pt(e,t,n,r,a){var o=new ut;o.setRepeat(lt),o.setDelay(n),o.setQuality(1),o.start();var i=function(e,t){var n;n=t?e.reduce(function(e,n){var r=n.groups.reduce(function(e,n){var r=n.sprites.reduce(function(e,n){if(n.composedX<t[0].x||n.composedX>t[1].x)return e;var r=n.tiles.filter(function(e){return e.composedY>=t[0].y&&e.composedY<t[1].y});return e.concat(r)},[]);return e.concat(r)},[]);return e.concat(r)},[]):M(e);var r=Math.max.apply(Math,Object(m.a)(n.map(function(e){return e.autoAnimation})));return Math.pow(2,r)}(e,t);console.log("totalFrames",i);var c=i,u=function(){o.finish();var e=o.stream().getData();a("data:image/gif;base64,".concat(btoa(e)))};!function n(){var a=i-c,s=st(e,a,t);o.addFrame(s.getContext("2d")),--c,r(s,a,i),c?setTimeout(n,1):setTimeout(u,1)}()}function ft(e){for(;e.firstChild;)e.removeChild(e.firstChild)}var dt=function(e){var t=e.isOpen,n=e.onRequestClose,o=Ge().state,c=Object(r.useRef)(null),u=Object(r.useState)(null),s=Object(d.a)(u,2),l=s[0],p=s[1];return Object(r.useEffect)(function(){if(t){var e=16*window.Module._get_neogeo_frame_counter_speed();pt(o.layers,o.crop,e,function(e,t,n){p({frame:t,totalFrames:n}),c&&c.current&&(ft(c.current),c.current.appendChild(e))},function(e){if(p(null),c&&c.current){ft(c.current);var t=new Image;t.src=e,c.current.appendChild(t)}})}},[t,o.crop,o.layers]),a.a.createElement(i.a,{isOpen:t,onRequestClose:n},l&&a.a.createElement("div",null,l.frame," of ",l.totalFrames),a.a.createElement("div",{ref:c}))},mt=n(55),At=n.n(mt),gt=function(e){var t=e.layer,n=e.index,r=e.runPreview,o=e.animationCounter,i=e.canDrag,c=e.outlineTiles,u=Ge().state;if(u.hiddenLayers[t.id])return null;var s=t.groups.reduce(function(e,t){return u.hiddenGroups[t.id]?e:e.concat(t.sprites)},[]).map(function(e,t){return a.a.createElement(Ie,{key:t,data:e,autoAnimate:r,animationCounter:o,canDrag:i,outlineTiles:c})}),l=S([t]),p=D(l),f=Math.max(p+48,320),d=b(l),m={zIndex:n,width:f,height:Math.max(d+48,240)};return a.a.createElement("div",{className:At.a.root,style:m},s)},yt=n(17),vt=n.n(yt),ht=function(e){var t=e.className,n=e.crop,r=e.width,o=e.height,i=be()(vt.a.root,t),c={height:n[0].y,gridColumn:"1 / -1",gridRow:"1"},u={width:n[0].x,height:n[1].y-n[0].y,gridColumn:"1",gridRow:"2"},s={width:n[1].x-n[0].x,height:n[1].y-n[0].y,gridColumn:"2",gridRow:"2"},l={width:r||"100%",height:o||"100%"};return a.a.createElement("div",{className:i,style:l},a.a.createElement("div",{className:vt.a.mask,style:c}),a.a.createElement("div",{className:vt.a.mask,style:u}),a.a.createElement("div",{className:vt.a.crop,style:s}),a.a.createElement("div",{className:vt.a.mask,style:{gridColumn:"3",gridRow:"2"}}),a.a.createElement("div",{className:vt.a.mask,style:{gridColumn:"1 / -1",gridRow:"3",flex:"1"}}))};function wt(){var e=Object(s.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n"]);return wt=function(){return e},e}function bt(){var e=Object(s.a)(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  flex: 1;\n  align-self: center;\n  overflow: auto;\n  background-color: var(--dock-color);\n"]);return bt=function(){return e},e}var Ot=l.a.div(bt()),Dt=l.a.div(wt()),xt=function(e){var t=e.className,n=Object(r.useState)({animation:0,rafFrameCountdown:0}),o=Object(d.a)(n,2),i=o[0],c=o[1],u=Ge(),s=u.state,l=u.dispatch,f=Object(r.useState)(null),m=Object(d.a)(f,2),A=m[0],g=m[1],y=Object(r.useState)(!1),v=Object(d.a)(y,2),h=v[0],w=v[1],b=Object(r.useState)(null),O=Object(d.a)(b,2),D=O[0],x=O[1],E=Object(r.useState)(null),j=Object(d.a)(E,2),C=j[0],M=j[1];Object(r.useEffect)(function(){if(s.isPreviewing){var e=window.Module._get_neogeo_frame_counter_speed()-1;requestAnimationFrame(function(){var t=0===i.rafFrameCountdown?1:0;c({animation:i.animation+t,rafFrameCountdown:1===t?e:i.rafFrameCountdown-1})})}});var S=Object(p.e)({accept:["Sprite","Sprites"],drop:function(e,t){if(A){var n=t.getClientOffset().x-A.getBoundingClientRect().left,r=16*Math.floor(n/16);if("Sprite"===e.type){var a=e.spriteMemoryIndex,o=e.pauseId;l(o?{type:"MoveSprite",spriteMemoryIndex:a,newComposedX:r,pauseId:o}:{type:"ExtractSprite",spriteMemoryIndex:a,composedX:r})}else l({type:"ExtractSpritesToGroup",spriteMemoryIndices:e.spriteMemoryIndices,composedX:r})}},canDrop:function(){return!h}}),I=Object(d.a)(S,2)[1],B=s.layers.map(function(e,t){return s.hiddenLayers[e.id]?null:a.a.createElement(gt,{key:t,index:t,layer:e,runPreview:s.isPreviewing,animationCounter:i.animation,canDrag:!h,outlineTiles:s.showGrid})}),P=s.isPaused?{backgroundColor:_(K())}:{};return a.a.createElement(a.a.Fragment,null,a.a.createElement(dt,{isOpen:s.isBuildingGif,onRequestClose:function(){return l("StopBuildGif")}}),a.a.createElement(Ot,{className:t,style:P,ref:function(e){g(e),I(e)}},B,!!(h&&D&&C||s.crop)&&a.a.createElement(ht,{width:A&&A.scrollWidth,height:A&&A.scrollHeight,crop:s.crop||[D,C]}),h&&a.a.createElement(Dt,{style:A?{width:A.scrollWidth,height:A.scrollHeight}:{},onMouseDown:function(e){if(h){var t=e.target.getBoundingClientRect(),n=e.clientX-t.x,r=e.clientY-t.y,a=16*Math.floor(n/16),o=16*Math.floor(r/16);x({x:a,y:o})}},onMouseMove:function(e){if(h&&D){var t=e.target.getBoundingClientRect(),n=e.clientX-t.x,r=e.clientY-t.y,a=16*Math.floor(n/16),o=16*Math.floor(r/16);M({x:a,y:o})}},onMouseUp:function(e){h&&D&&C&&(l({type:"SetCrop",crop:[D,C]}),w(!1))}})))};function Et(){var e=Object(s.a)(["\n  display: grid;\n  grid-template-columns: 32px;\n  grid-template-rows: repeat(6, 32px) 1fr 32px 32px;\n"]);return Et=function(){return e},e}var jt=l.a.div(Et()),Ct=function(e){var t=e.className,n=Ge(),r=n.state,o=n.dispatch,i=n.undo,c=n.redo,u=n.canUndo,s=n.canRedo;return a.a.createElement(jt,{className:t},a.a.createElement("button",{title:"".concat(r.showGrid?"hide":"show"," grid"),onClick:function(){return o("ToggleGrid")}},"G"),a.a.createElement("button",{title:"crop",onClick:function(){return o("ToggleCropping")}},"C",r.isCropping?"y":"n"),a.a.createElement("button",{title:"clear crop",onClick:function(){return o("ClearCrop")}},"X"),a.a.createElement("button",{title:"preview",onClick:function(){return o("TogglePreview")}},"P"),a.a.createElement("button",{title:"build gif",onClick:function(){return o("BuildGif")}},"G"),a.a.createElement("button",{title:"down",onClick:function(){return o("PushAllDown")}},"D"),a.a.createElement("div",null),a.a.createElement("button",{title:"undo",disabled:!u,onClick:function(){return i()}},"U"),a.a.createElement("button",{title:"redo",disabled:!s,onClick:function(){return c()}},"R"))},Mt=n(56),St=n.n(Mt),It=function(e){var t=e.className,n=e.title,r=e.icon,o=e.onClick,i=r,c=be()(St.a.root,t);return a.a.createElement(i,{className:c,onClick:o,title:n,role:"button","aria-label":n})},Bt=n(11),Pt=n(22),kt=n.n(Pt),Nt=n(27),Gt=n.n(Nt),Ft=n(28),Xt=n.n(Ft),Lt=n(58),zt=n.n(Lt),qt=n(57),Yt=n.n(qt),Tt=function(e){var t=e.sprite,n=e.onDelete;return a.a.createElement("div",{className:Yt.a.root}," ",t.spriteMemoryIndex," ",a.a.createElement(It,{icon:kt.a,title:"Delete Layer",onClick:function(){return n()}}))};var Rt=a.a.memo(function(e){var t=function(e){var t=st([{id:0,groups:[N(e)]}]);return{url:t.toDataURL("image/png"),width:t.width,height:t.height}}(e.group),n=t.width,r=t.height,o=t.url,i=24/Math.max(n,r);return a.a.createElement("img",{width:n*i,height:r*i,src:o,alt:"sprite group thumbnail"})}),Wt=n(30),Qt=n.n(Wt),Ht=function(e){var t=e.group,n=e.onDelete,o=e.onToggleVisibility,i=Ge(),c=i.dispatch,u=i.state,s=Object(r.useState)(!1),l=Object(d.a)(s,2),p=l[0],f=l[1],m=null;return p&&(m=t.sprites.map(function(e,n){return a.a.createElement(Tt,{key:n,sprite:e,onDelete:function(){return c({type:"RemoveSpriteFromExtractedGroup",group:t,sprite:e})}})})),a.a.createElement("div",{className:Qt.a.root},a.a.createElement("div",{className:Qt.a.toolbar},a.a.createElement(It,{icon:p?Gt.a:Xt.a,title:"Show sprites",onClick:function(){return f(!p)}}),a.a.createElement(Rt,{group:t}),a.a.createElement("div",null,t.sprites[0]&&t.sprites[0].spriteMemoryIndex||"empty"),a.a.createElement(It,{icon:u.hiddenGroups[t.id]?Bt.c:Bt.b,onClick:function(){return o()},title:"Group is ".concat(u.hiddenLayers[t.id]?"hidden":"visible")}),a.a.createElement(It,{icon:kt.a,title:"Delete Group",onClick:function(){return n()}})),a.a.createElement("div",{className:Qt.a.spriteContainer},m))},Jt=a.a.memo(function(e){var t=function(e){var t=st([G(e)]);return{url:t.toDataURL("image/png"),width:t.width,height:t.height}}(e.layer),n=t.width,r=t.height,o=t.url,i=48/r;return a.a.createElement("img",{width:n*i,height:r*i,src:o,alt:"layer thumbnail"})}),Vt=n(38),Zt=n.n(Vt),Ut=function(e){var t=e.layer,n=e.onDelete,o=e.onToggleVisibility,i=e.onGroupDelete,c=e.onGroupToggleVisibility,u=e.onExtendViaMirror,s=e.onPushDown,l=Ge(),p=l.dispatch,f=l.state,m=Object(r.useState)(!0),A=Object(d.a)(m,2),g=A[0],y=A[1],v=t.groups.map(function(e,t){return a.a.createElement(Ht,{key:t,group:e,onDelete:function(){return i(e)},onToggleVisibility:function(){return c(e)}})});return a.a.createElement("div",{className:Zt.a.root},a.a.createElement("div",{className:Zt.a.toolbar},a.a.createElement(It,{icon:g?Gt.a:Xt.a,title:"Show groups",onClick:function(){return y(!g)}}),a.a.createElement(Jt,{layer:t}),a.a.createElement(It,{icon:Bt.e,onClick:function(){return p({type:"RotateLayer",layer:t})},title:"Rotate tiles"}),a.a.createElement(It,{icon:Bt.d,onClick:function(){return u()},title:"Mirror"}),a.a.createElement(It,{icon:zt.a,onClick:function(){return s()},title:"Push Down"}),a.a.createElement(It,{icon:f.hiddenLayers[t.id]?Bt.c:Bt.b,onClick:function(){return o()},title:"Layer is ".concat(f.hiddenLayers[t.id]?"hidden":"visible")}),a.a.createElement(It,{icon:kt.a,title:"Delete Layer",onClick:function(){return n()}})),g&&v)},Kt=n(39),_t=n.n(Kt),$t=function(e){var t=e.className,n=Ge(),r=n.state,o=n.dispatch,i=be()(_t.a.root,t),c=Object(m.a)(r.layers).reverse().map(function(e,t){return a.a.createElement(Ut,{key:t,layer:e,onDelete:function(){return o({type:"DeleteLayer",layer:e})},onToggleVisibility:function(){return o({type:"ToggleVisibilityOfLayer",layer:e})},onGroupDelete:function(e){return o({type:"DeleteGroup",group:e})},onGroupToggleVisibility:function(e){return o({type:"ToggleVisibilityOfGroup",group:e})},onExtendViaMirror:function(){return o({type:"ExtendLayerViaMirror",layer:e})},onPushDown:function(){return o({type:"PushDownLayer",layer:e})}})});return a.a.createElement("div",{className:i},a.a.createElement(It,{className:_t.a.buttonIcon,icon:Bt.a,onClick:function(){return o({type:"NewLayer"})},title:"New Layer"}),c)},en=n(25),tn=n.n(en),nn=n(40);function rn(){var e=Object(s.a)(["\n  width: 0.01px;\n  height: 0.01px;\n"]);return rn=function(){return e},e}function an(){var e=Object(s.a)(["\n  cursor: pointer;\n  font-weight: bold;\n"]);return an=function(){return e},e}function on(){var e=Object(s.a)(["\n  border: 1px dotted gray;\n  flex: 1;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-content: center;\n  text-align: center;\n  font-size: 0.8em;\n  color: gray;\n\n  background-color: ",";\n"]);return on=function(){return e},e}var cn=l.a.div(on(),function(e){return e.isOver?"lightgray":"transparent"}),un=l.a.label(an()),sn=l.a.input(rn());function ln(e){var t=!1;if(e.dataTransfer){var n=e.dataTransfer.types;for(var r in n)if("Files"===n[r]){t=!0;break}}return t}var pn=function(e){var t=e.onFileChosen,n=e.fileName,o=Object(r.useState)(!1),i=Object(d.a)(o,2),c=i[0],u=i[1];var s=n?a.a.createElement(a.a.Fragment,null,n):a.a.createElement("div",{onDragOver:function(e){u(ln(e))},onDragLeave:function(e){u(!1)},onDrop:function(e){if(ln(e)){var n=e.dataTransfer&&e.dataTransfer.files&&e.dataTransfer.files[0];n&&t(n)}}},"drag a file here, or"," ",a.a.createElement(un,null,"click to choose",a.a.createElement(sn,{type:"file",onChange:function(e){e.target&&e.target.files&&e.target.files[0]&&t(e.target.files[0])}})));return a.a.createElement(cn,{isOver:c},s)};function fn(){var e=Object(s.a)(['\n  width: 100%;\n  height: 3px;\n\n  background-color: var(--focal-color);\n  position: relative;\n\n  &:after {\n    content: "";\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    width: 100%;\n    background-image: linear-gradient(\n      90deg,\n      transparent 0,\n      transparent 90%,\n      rgba(255, 255, 255, 0.5) 90%,\n      white 95%,\n      rgba(255, 255, 255, 0.5) 100%\n    );\n\n    animation: 6s '," ease-in-out infinite;\n  }\n"]);return fn=function(){return e},e}function dn(){var e=Object(s.a)(["\n  0% {\n    width: 0%;\n  }\n  50% {\n    width: 100%;\n  }\n  100% {\n    width: 0%;\n  }\n"]);return dn=function(){return e},e}function mn(){var e=Object(s.a)(["\n  font-size: 24px;\n  font-weight: bold;\n"]);return mn=function(){return e},e}function An(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return An=function(){return e},e}function gn(){var e=Object(s.a)(["\n  font-size: 96px;\n  font-weight: bold;\n\n  color: lightgray;\n"]);return gn=function(){return e},e}function yn(){var e=Object(s.a)(["\n  display: grid;\n  grid-template-columns: max-content 1fr 200px;\n  grid-template-rows: repeat(2, auto);\n  column-gap: 16px;\n  row-gap: 16px;\n\n  padding: 16px;\n"]);return yn=function(){return e},e}function vn(){var e=Object(s.a)(["\n  display: grid;\n  grid-template-rows: repeat(2, auto);\n\n  color: black;\n  outline: 1px solid gray;\n"]);return vn=function(){return e},e}var hn=l.a.div(vn()),wn=l.a.div(yn()),bn=l.a.div(gn()),On=l.a.div(An()),Dn=l.a.div(mn()),xn=Object(l.b)(dn()),En=l.a.div(fn(),xn),jn=function(e){var t=e.className,n=e.stepNumber,r=e.title,o=e.description,i=e.loading,c=e.fileName,u=e.onFileChosen,s={visibility:i?"visible":"hidden"};return a.a.createElement(hn,{className:t},a.a.createElement(En,{style:s}),a.a.createElement(wn,null,a.a.createElement(bn,null,n),a.a.createElement(On,null,a.a.createElement(Dn,null,r),a.a.createElement("p",null,o)),a.a.createElement(pn,{onFileChosen:u,fileName:c})))},Cn=n(59),Mn=n.n(Cn),Sn=n(60),In=n.n(Sn);function Bn(){var e=Object(s.a)(["\n  --choice-title-img: url(",");\n"]);return Bn=function(){return e},e}function Pn(){var e=Object(s.a)(["\n  --choice-title-img: url(",");\n"]);return Pn=function(){return e},e}function kn(){var e=Object(s.a)(["\n  width: 100%;\n  height: 128px;\n  outline: 1px solid gray;\n  cursor: pointer;\n\n  background-color: black;\n  background-image: var(--choice-title-img);\n  background-repeat: no-repeat;\n  background-position: center center;\n  background-size: 80%;\n"]);return kn=function(){return e},e}function Nn(){var e=Object(s.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: max-content;\n  column-gap: 8px;\n"]);return Nn=function(){return e},e}var Gn=l.a.div(Nn()),Fn=l.a.div(kn()),Xn=l.a.div(Pn(),In.a),Ln=l.a.div(Bn(),Mn.a),zn=function(e){e.className;var t=e.onChoice;return a.a.createElement(Gn,null,a.a.createElement(Xn,null,a.a.createElement(Fn,{onClick:function(){return t("ss2")}})),a.a.createElement(Ln,null,a.a.createElement(Fn,{onClick:function(){return t("gowcaizer")}})))};function qn(){var e=Object(s.a)(["\n  margin-top: 8px;\n  font-size: 0.8rem;\n\n  & > a {\n    color: blue;\n    cursor: pointer;\n  }\n\n  & > div {\n    margin-top: 8px;\n  }\n"]);return qn=function(){return e},e}function Yn(){var e=Object(s.a)(["\n  font-size: 24px;\n"]);return Yn=function(){return e},e}function Tn(){var e=Object(s.a)(["\n  max-width: 600px;\n  padding: 16px;\n  margin: 96px auto;\n  background-color: white;\n\n  display: grid;\n  grid-template-rows: repeat(3, auto);\n  row-gap: 16px;\n\n  background-color: #eee;\n  color: black;\n  box-shadow: 0px 24px 20px 0px rgba(0, 0, 0, 0.7);\n"]);return Tn=function(){return e},e}var Rn=Object(l.a)(i.a)(Tn()),Wn=l.a.div(Yn()),Qn=l.a.div(qn());function Hn(e){return new Promise(function(t,n){var r=new FileReader;r.addEventListener("load",function(){r.result?t(r.result):n("Failed to load: ".concat(e.name))}),r.readAsArrayBuffer(e)})}function Jn(e){return Vn.apply(this,arguments)}function Vn(){return(Vn=Object(nn.a)(tn.a.mark(function e(t){var n;return tn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hn(t);case 2:n=e.sent,window.Module.FS_createDataFile("/virtualfs",t.name,new Uint8Array(n),!0,!0);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Zn=function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),n=t[0],o=t[1],i=Object(r.useState)(!0),c=Object(d.a)(i,2),u=c[0],s=c[1],l=Object(r.useState)(""),p=Object(d.a)(l,2),f=p[0],m=p[1],A=Object(r.useState)(""),g=Object(d.a)(A,2),y=g[0],v=g[1],h=Object(r.useState)(!1),w=Object(d.a)(h,2),b=w[0],O=w[1],D=Object(r.useState)(!1),x=Object(d.a)(D,2),E=x[0],j=x[1],C=Object(r.useState)(!1),M=Object(d.a)(C,2),S=M[0],I=M[1],B=Object(r.useState)(!1),P=Object(d.a)(B,2),k=P[0],N=P[1],G=Ge().dispatch;function F(){!function(e){var t=window.stackAlloc(12),n=(e||f).replace(".zip","");window.HEAP32[t>>2]=window.allocateUTF8OnStack("gngeo"),window.HEAP32[1+(t>>2)]=window.allocateUTF8OnStack(n),window.HEAP32[2+(t>>2)]=0,s(!1),G({type:"StartEmulation"});try{window.Module._run_rom(2,t)}catch(r){console.log("_run_rom threw")}}(f)}function X(){return(X=Object(nn.a)(tn.a.mark(function e(t){var n,r;return tn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./".concat(t,".json"));case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,s(!1),G({type:"SetDemo",demoData:r});case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}var L=a.a.createElement("div",null,"The game ROM, such as samsho2.zip",a.a.createElement(Qn,null,a.a.createElement("a",{onClick:function(){return o(!n)}},"why does my ROM not work?"),n&&a.a.createElement("div",null,"NGBG uses GnGeo as its emulator. GnGeo requires ROMs to be in a specific format, and many ROMs out there today don't match. I will fix this eventually.")));return a.a.createElement(Rn,{isOpen:u,overlayClassName:"modalOverlay"},a.a.createElement(Wn,null,"To start, please provide these two files"),a.a.createElement(jn,{stepNumber:1,title:"Neo Geo BIOS",description:"The BIOS file for the Neo Geo, it must be named neogeo.zip",onFileChosen:function(e){"neogeo.zip"===e.name&&(I(!0),v(e.name),Jn(e).then(function(){I(!1),j(!0)}))},loading:S,fileName:y}),a.a.createElement(jn,{stepNumber:2,title:"Game ROM",description:L,onFileChosen:function(e){N(!0),m(e.name),Jn(e).then(function(){N(!1),O(!0)})},loading:k,fileName:f}),a.a.createElement("button",{disabled:!b||!E,onClick:function(){return F()}},"launch"),a.a.createElement(Wn,null,"Or ... choose a demo to taste how the app works"),a.a.createElement(zn,{onChoice:function(e){return X.apply(this,arguments)}}))};function Un(){var e=Object(s.a)(["\n  display: grid;\n  grid-template-rows: max-content 1fr;\n  grid-template-columns: 1fr;\n  row-gap: var(--gutter-width);\n\n  .emulator {\n    grid-column: 1;\n    grid-row: 1;\n  }\n\n  .layers {\n    grid-column: 1;\n    grid-row: 2;\n  }\n"]);return Un=function(){return e},e}function Kn(){var e=Object(s.a)(["\n  display: grid;\n  grid-template-rows: 1fr max-content;\n  grid-template-columns: 1fr;\n  row-gap: var(--gutter-width);\n\n  & .composeScreen {\n    grid-row: 1;\n  }\n\n  & .spriteTray {\n    grid-row: 2;\n  }\n"]);return Kn=function(){return e},e}function _n(){var e=Object(s.a)(["\n  --gutter-width: 16px;\n\n  width: 100vw;\n  height: 100vh;\n\n  display: grid;\n  grid-template-rows: 1fr;\n  grid-template-columns: max-content 1fr 320px;\n  column-gap: var(--gutter-width);\n\n  padding: var(--gutter-width);\n"]);return _n=function(){return e},e}var $n=l.a.div(_n()),er=l.a.div(Kn()),tr=l.a.div(Un());n(87);i.a.setAppElement("#root"),u.a.render(a.a.createElement(function(){return a.a.createElement(he,null,a.a.createElement(p.b,{backend:f.a},a.a.createElement(Zn,null),a.a.createElement(ke,null),a.a.createElement($n,null,a.a.createElement(Ct,null),a.a.createElement(er,null,a.a.createElement(xt,{className:"composeScreen"}),a.a.createElement(ot,{className:"spriteTray"})),a.a.createElement(tr,null,a.a.createElement(Je,{className:"emulator"}),a.a.createElement($t,{className:"layers"})))))},null),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.ccf609c3.chunk.js.map