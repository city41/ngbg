(window.webpackJsonpngbg=window.webpackJsonpngbg||[]).push([[0],{16:function(e,t,n){e.exports={root:"cropRect_root__LYSAR",mask:"cropRect_mask__Vl5ZD",crop:"cropRect_crop__2ev0N"}},23:function(e,t,n){e.exports={root:"spriteEntry_root__21-Rc",index:"spriteEntry_index__3_j9A",focused:"spriteEntry_focused__2e2R9",spriteContainer:"spriteEntry_spriteContainer__3BESY"}},29:function(e,t,n){e.exports={root:"group_root__1RKod",toolbar:"group_toolbar__1l8sD",spriteContainer:"group_spriteContainer__cQlrm"}},33:function(e,t,n){e.exports={root:"extractedTile_root__14wnu",outlined:"extractedTile_outlined__1tGwy"}},37:function(e,t,n){e.exports={root:"layer_root__NdbK1",toolbar:"layer_toolbar__1mN6V"}},38:function(e,t,n){e.exports={root:"layers_root__1VIq8"}},47:function(e,t,n){e.exports={root:"extractedSprite_root__gpe6g"}},52:function(e,t,n){e.exports={canvas:"tile_canvas__1tNqN"}},53:function(e,t,n){e.exports={sprite:"sprite_sprite__38hI5"}},54:function(e,t,n){e.exports={root:"layer_root__1yNTP"}},55:function(e,t,n){e.exports={root:"iconButton_root__J-591"}},56:function(e,t,n){e.exports={root:"sprite_root__1RSYf"}},58:function(e,t){e.exports="data:image/png;base64,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"},59:function(e,t){e.exports="data:image/png;base64,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"},63:function(e,t,n){e.exports=n(88)},86:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(19),i=n.n(a),c=n(31),u=n.n(c),l=n(2),s=n(3),p=n(10),d=n(22),f=n(4),A=n(5),m=n(6),g=1;function v(){return g++}var y=n(15);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach(function(t){Object(m.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function b(e){var t,n;return n=e,0===(t=Array.isArray(n)&&(0===n.length||"composedX"in n[0])?e.reduce(function(e,t){return e.concat(t.tiles)},[]):e).length?0:Math.max.apply(Math,Object(A.a)(t.map(function(e){return e.composedY})))}function O(e){return 0===e.length?0:Math.min.apply(Math,Object(A.a)(e.map(function(e){return e.composedY})))}function E(e){return 0===e.length?0:Math.max.apply(Math,Object(A.a)(e.map(function(e){return e.composedX})))}function D(e){return 0===e.length?0:Math.min.apply(Math,Object(A.a)(e.map(function(e){return e.composedX})))}function j(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"composedX";return e.map(function(e){return w({},e,{composedX:e[r]+t,tiles:0===n?e.tiles:P(e.tiles,n)})})}function x(e,t,n,r){return e.map(function(e){return"number"===typeof r&&e.pauseId!==r?e:w({},e,{sprites:j(e.sprites,t,n)})})}function k(e){var t=O(M(e));return t>=0?e:e.map(function(e){return w({},e,{groups:(n=e.groups,r=-1*t,n.map(function(e){return w({},e,{sprites:B(e.sprites,r)})}))});var n,r})}function M(e){return C(e).reduce(function(e,t){return e.concat(t.tiles)},[])}function C(e){return e.reduce(function(e,t){return e.concat(t.groups.reduce(function(e,t){return e.concat(t.sprites)},[]))},[])}function I(e){return e.reduce(function(e,t){return e.concat(t.tiles)},[])}function B(e,t){return e.map(function(e){return w({},e,{tiles:P(e.tiles,t)})})}function P(e,t){return e.map(function(e){return w({},e,{composedY:e.composedY+t})})}function S(e,t){var n=e.reduce(function(e,t){return e.concat(t.sprites)},[]),r=function(e){var t=E(e);return e.map(function(e){return w({},e,{spriteMemoryIndex:e.spriteMemoryIndex,composedX:2*t-(e.composedX+16),tiles:e.tiles.map(function(e){return w({},e,{horizontalFlip:!e.horizontalFlip})})})}).reverse()}(n),o=function(e){var t=D(e),n=E(e)+16,r=n-t;return e.map(function(e){return w({},e,{spriteMemoryIndex:e.spriteMemoryIndex,composedX:t-r+(n-(e.composedX+16)),tiles:e.tiles.map(function(e){return w({},e,{horizontalFlip:!e.horizontalFlip})})})}).reverse()}(n);return[{id:v(),pauseId:t,sprites:o},{id:v(),pauseId:t,sprites:r}]}function N(e){var t=D(e.sprites),n=O(I(e.sprites));return 0===t&&0===n?e:w({},e,{sprites:j(e.sprites,-t,-n)})}function R(e){var t=D(C([e])),n=O(M([e]));return 0===t&&0===n?e:w({},e,{groups:x(e.groups,-t,-n,void 0)})}var T=n(28);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var G=128,z=65536,H=66560,Y=67584;function q(e){if(e<0)throw new Error("getYSpriteSizeSticky: sprite index under zero!");var t=window.Module._get_tile_ram_addr()+H+2*e,n=window.HEAPU8[t]|window.HEAPU8[t+1]<<8,r=!!(n>>6&1);if(r)return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(n,!0).forEach(function(t){Object(m.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},q(e-1),{sticky:r});for(var o=63&n,a=function(e,t,n){var r,o=512-e;if(o>272&&(o-=512),2===(r=32===n?1:n>=33?2:0)||1===r&&255===t)for(;o<0;)o+=t+1<<1;return o}(n>>7,X(e,{ignoreSticky:!0}).yScale,o),i=[],c=0;c<o;++c)i.push((a+16*c)%512);return{y:a,tileYs:i,spriteSize:o,sticky:r}}function U(e){if(e<0)throw new Error("getX: sprite index under zero!");var t;if(q(e).sticky){var n=X(e).xScale;t=U(e-1)+n}else{var r=window.Module._get_tile_ram_addr()+Y+2*e;t=(window.HEAPU8[r]|window.HEAPU8[r+1]<<8)>>7}return t>=496&&(t-=512),t}function X(e,t){if(e<0)throw new Error("getScale: sprite index under zero!");if((!t||!t.ignoreSticky)&&q(e).sticky)return X(e-1);var n=window.Module._get_tile_ram_addr()+z+2*e,r=window.HEAPU8[n]|window.HEAPU8[n+1]<<8;return{yScale:255&r,xScale:1+(r>>8&15)}}function Q(e){var t=q(e),n=t.sticky,r=t.y,o=t.tileYs,a=t.spriteSize;return{spriteMemoryIndex:e,tiles:function(e,t,n){for(var r=window.Module._get_tile_ram_addr(),o=G*e,a=[],i=0;i<4*t;++i)a[i]=window.HEAPU8[r+o+i];for(var c=[],u=0;u<a.length;u+=4){var l=a[u]|a[u+1]<<8,s=a[u+2]|a[u+3]<<8,p=l|(s>>4&15)<<16,d=0;8&s?d=3:4&s&&(d=2);var f=s>>8&255,A=!!(1&s),m=!!(2&s);c.push({y:n[u/4],tileIndex:p,paletteIndex:f,horizontalFlip:A,verticalFlip:m,autoAnimation:d})}return c}(e,a,o),x:U(e),sticky:n,y:r,spriteSize:a}}var V=16,L=2*V;function J(e){var t=e>>15&1;return[((e>>8&15)<<2|(e>>14&1)<<1|t)/63*255,((e>>4&15)<<2|(e>>13&1)<<1|t)/63*255,((15&e)<<2|(e>>12&1)<<1|t)/63*255,255]}function Z(e){Object({NODE_ENV:"production",PUBLIC_URL:"/ngbg"}).ENABLE_DEMO_DUMP&&(window.neededPalettes=window.neededPalettes||{},window.neededPalettes[e]=!0);var t=(window.Module._get_current_pal_addr()+e*L)/2;return Object(A.a)(window.Module.HEAPU16.slice(t,t+V))}function K(e){var t=e.map(J);return[[0,0,0,0]].concat(Object(A.a)(t.slice(1)))}function W(){var e=window.Module._get_current_pal_addr();return e+=8190,e/=2,window.Module.HEAPU16[e]}function _(e){var t=J(e);return"rgb(".concat(t[0],", ").concat(t[1],", ").concat(t[2],")")}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(n,!0).forEach(function(t){Object(m.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function te(e){var t=e.y,n=(e.paletteIndex,Object(T.a)(e,["y","paletteIndex"])),r=Z(e.paletteIndex);return ee({},n,{composedY:t,neoGeoPalette:r,rgbPalette:K(r)})}function ne(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return re(function(e){for(var t=e,n=Q(t);n.sticky&&t>0;)n=Q(t-=1);var r=[];do{r.push(t),n=Q(t+=1)}while(n.sticky);return r}(e),t,n,r)}function re(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e.map(function(e,o){var a=Q(e);return ee({},r,{pauseId:n,spriteMemoryIndex:e,tiles:a.tiles.map(te),screenX:a.x,screenY:a.y,composedX:t+16*o,composedY:a.y})});return{id:v(),pauseId:n,sprites:o}}function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ae(e,t,n){return t.map(function(t){return t===e?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(n,!0).forEach(function(t){Object(m.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{},n):t})}function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(n,!0).forEach(function(t){Object(m.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ue(e,t,n){return 0===e.length?e:e.map(function(e){var r=e.composedY>=n,o=e.composedY-n;return ce({},e,{composedY:r?t+o:e.composedY+16})})}function le(e,t,n){return e.map(function(e){return ce({},e,{tiles:ue(e.tiles,t,n)})})}function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(n,!0).forEach(function(t){Object(m.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var de=1379916;var fe,Ae=(fe=function(e,t,n){switch(t.type){case"ExtractSpritesToGroup":case"ExtractSprite":var r;if("spriteMemoryIndex"in t){var o=t.spriteMemoryIndex,a=t.composedX;r=ne(o,a,n.pauseId)}else{var i=t.spriteMemoryIndices,c=t.composedX;r=re(i,c,n.pauseId,{isAdhoc:!0})}var u=Object(A.a)(e.layers).reverse().find(function(e){return!n.hiddenLayers[e.id]})||{id:v(),groups:[r]},l=u.groups.filter(function(e){return e.pauseId!==r.pauseId||!function(e,t){var n=e.sprites.map(function(e){return e.spriteMemoryIndex}).sort(),r=t.sprites.map(function(e){return e.spriteMemoryIndex}).sort();return Object(y.isEqual)(n,r)}(e,r)});return r=function(e,t){var n=t.find(function(t){return t.pauseId===e.pauseId});if(!n)return e;var r=n.sprites[0].composedX-n.sprites[0].screenX;return w({},e,{sprites:j(e.sprites,r,0,"screenX")})}(r,l),ce({},e,{layers:0===e.layers.length?[u]:ae(u,e.layers,{groups:[].concat(Object(A.a)(u.groups),[r])})});case"MoveSprite":var s=t.spriteMemoryIndex,p=t.newComposedX,d=t.pauseId,m=e.layers.find(function(e){return e.groups.some(function(e){return e.sprites.some(function(e){return e.spriteMemoryIndex===s&&e.pauseId===d})})});if(!m)return e;var g=m.groups.find(function(e){return e.pauseId===d&&e.sprites.some(function(e){return e.spriteMemoryIndex===s})});if(!g)return e;var h=p-g.sprites[0].composedX,b=x(m.groups,h,0,d);return ce({},e,{layers:ae(m,e.layers,{groups:b})});case"DeleteGroup":var O=t.group,E=e.layers.find(function(e){return e.groups.indexOf(O)>-1});if(!E)throw new Error("DeleteGroup: can't find the layer this group belongs to");var I=Object(y.without)(E.groups,O);return ce({},e,{layers:ae(E,e.layers,{groups:I})});case"NewLayer":var B={id:v(),groups:[],hidden:!1};return ce({},e,{layers:[].concat(Object(A.a)(e.layers),[B])});case"DeleteLayer":var P=t.layer;return ce({},e,{layers:e.layers.filter(function(e){return e!==P})});case"ExtendLayerViaMirror":var N=t.layer;if(0===N.groups.length)return e;var R,T=S(N.groups,n.pauseId),F={id:v(),groups:T,hidden:!1},G=e.layers.indexOf(N);return R=0===G?[F].concat(Object(A.a)(e.layers)):[].concat(Object(A.a)(e.layers.slice(0,G-1)),[F],Object(A.a)(e.layers.slice(G-1))),ce({},e,{layers:R=function(e){var t=D(C(e));return t>=0?e:e.map(function(e){return w({},e,{groups:(n=e.groups,r=-1*t,n.map(function(e){return w({},e,{sprites:j(e.sprites,r,0)})}))});var n,r})}(R)});case"RemoveSpriteFromExtractedGroup":var z=t.group,H=t.sprite,Y=e.layers.find(function(e){return e.groups.indexOf(z)>-1});if(!Y)throw new Error("RemoveSpriteFromExtractedGroup: cant find layer for group");var q=ae(z,Y.groups,{sprites:Object(y.without)(z.sprites,H)});return ce({},e,{layers:ae(Y,e.layers,{groups:q})});case"RotateLayer":var U=t.layer,X=ae(U,e.layers,function(e,t){var n=M(t),r=n.reduce(function(e,t){return t.composedY<e&&t.composedY%16===0?t.composedY:e},1/0);if(r===1/0)return e;var o=n.reduce(function(e,t){return t.composedY>e&&t.composedY%16===0?t.composedY:e},-1/0);if(o===-1/0)return e;var a=e.groups.map(function(e){return ce({},e,{sprites:le(e.sprites,r,o)})});return ce({},e,{groups:a})}(U,e.layers));return ce({},e,{layers:X});case"PushDownLayer":var Q=t.layer,V=k([Q]),L=Object(f.a)(V,1)[0];return ce({},e,{layers:ae(Q,e.layers,L)});case"PushAllDown":return ce({},e,{layers:k(e.layers)})}},{initialState:{past:[],present:{layers:[]},future:[],hasStarted:!1,isPaused:!1,pauseId:0,isCropping:!1,crop:void 0,isPreviewing:!1,isBuildingGif:!1,showGrid:!1,hiddenLayers:{},hiddenGroups:{},isDemoing:!1},reducer:function(e,t){var n,r;switch(t.type){case"StartEmulation":return pe({},e,{hasStarted:!0});case"TogglePause":var o=!e.isPaused;return pe({},e,{isPaused:o,pauseId:o?e.pauseId+1:e.pauseId});case"ToggleGrid":return pe({},e,{showGrid:!e.showGrid});case"ToggleCropping":return pe({},e,{isCropping:!e.isCropping});case"SetCrop":var a=t.crop;return pe({},e,{crop:a&&[{x:Math.min(a[0].x,a[1].x),y:Math.min(a[0].y,a[1].y)},{x:Math.max(a[0].x,a[1].x),y:Math.max(a[0].y,a[1].y)}]});case"ClearCrop":return pe({},e,{crop:void 0,isCropping:!1});case"TogglePreview":return pe({},e,{isPreviewing:!e.isPreviewing});case"BuildGif":return pe({},e,{isBuildingGif:!0});case"StopBuildGif":return pe({},e,{isBuildingGif:!1});case"ToggleVisibilityOfGroup":var i=t.group;return pe({},e,{hiddenGroups:pe({},e.hiddenGroups,Object(m.a)({},i.id,!e.hiddenGroups[i.id]))});case"ToggleVisibilityOfLayer":var c=t.layer;return pe({},e,{hiddenLayers:pe({},e.hiddenLayers,Object(m.a)({},c.id,!e.hiddenLayers[c.id]))});case"undo":var u=Object(A.a)(e.past),l=u.pop();if(!l)throw new Error("undo: nothing to undo!");n=pe({},e,{past:u,present:l,future:[].concat(Object(A.a)(e.future),[e.present])});break;case"redo":var s=Object(A.a)(e.future),p=s.pop();if(!p)throw new Error("redo: nothing to redo!");n=pe({},e,{past:[].concat(Object(A.a)(e.past),[e.present]),present:p,future:s});break;case"SetDemo":var d=t.demoData;return r=d.spriteMemory,window.HEAPU8.set(r,window.Module._get_tile_ram_addr()),function(e){Object.keys(e).forEach(function(t){var n=e[t];window.HEAPU8.set(n,window.Module._get_rom_ctile_addr()+16*Number(t)*4*2)})}(d.tileMemory),function(e){Object.keys(e).forEach(function(t){var n=e[t],r=(de+32*Number(t))/2;window.Module.HEAPU16.set(n,r)})}(d.palettes),window.Module._get_current_pal_addr=function(){return de},pe({},e,{isDemoing:!0,hasStarted:!0,isPaused:!0,pauseId:1});default:n=pe({},e,{past:[].concat(Object(A.a)(e.past),[e.present]),present:fe(e.present,t,e)})}return n}}),me=Ae.initialState,ge=Ae.reducer,ve=Object(r.createContext)(me),ye=Object(r.createContext)(function(){return 0}),he=function(e){var t=e.children,n=Object(r.useReducer)(ge,me),a=Object(f.a)(n,2),i=a[0],c=a[1];return o.a.createElement(ye.Provider,{value:c},o.a.createElement(ve.Provider,{value:i},t))},we=n(9),be=n.n(we),Oe={0:3,1:2,2:1,3:0,4:7,5:6,6:5,7:4},Ee=Object(y.memoize)(function(e){for(var t=window.Module._get_rom_ctile_addr(),n=128*e,r=[],o=0;o<128;++o)r[o]=window.HEAPU8[t+n+o];for(var a=[],i=0;i<16;++i)for(var c=0;c<8;++c){var u=r[8*i+Oe[c]],l=u>>4&15,s=15&u;a.push(l,s)}return a});var De={};function je(e,t,n){Object({NODE_ENV:"production",PUBLIC_URL:"/ngbg"}).ENABLE_DEMO_DUMP&&(window.neededTiles=window.neededTiles||{},window.neededTiles[t]=!0),e.width=16,e.height=16;var r=e.getContext("2d"),o="".concat(t,"-").concat(n.reduce(function(e,t){return t.reduce(function(e,t){return 19*e+t},e)},17));if(De[o])return r.drawImage(De[o],0,0),e;var a=document.createElement("canvas");a.width=16,a.height=16;for(var i=a.getContext("2d"),c=Ee(t),u=i.getImageData(0,0,16,16),l=0;l<16;++l)for(var s=0;s<16;++s)for(var p=n[c[16*l+s]],d=0;d<p.length;++d)u.data[4*(16*l+s)+d]=p[d];i.putImageData(u,0,0),De[o]=a,je(e,t,n)}var xe=n(33),ke=n.n(xe),Me=o.a.memo(function(e){var t=e.y,n=e.tileIndex,r=e.rgbPalette,a=e.horizontalFlip,i=e.verticalFlip,c=e.outlined;var u=a?-1:1,l=i?-1:1,s=be()(ke.a.root,Object(m.a)({},ke.a.outlined,c)),p={transform:"scale(".concat(u,",").concat(l,")"),top:t};return o.a.createElement("canvas",{className:s,"data-tileindex":n,ref:function(e){return e&&void je(e,n,r)},style:p})}),Ce=n(47),Ie=n.n(Ce),Be=function(e){var t=e.data,n=e.autoAnimate,a=e.animationCounter,i=e.canDrag,c=e.outlineTiles,u=e.setYToZero,l=e.overrideX,s=Object(p.c)({item:{spriteMemoryIndex:t.spriteMemoryIndex,pauseId:t.pauseId,type:"Sprite",isAdhoc:t.isAdhoc},canDrag:function(){return i}}),A=Object(f.a)(s,3),m=A[1],g=A[2];Object(r.useEffect)(function(){g(Object(d.b)(),{captureDraggingState:!0})},[g]);var v=t.tiles.map(function(e,r){var i=e.tileIndex;return n&&"number"===typeof a&&(3===e.autoAnimation&&(i=(-8&i)+(i+a&7)),2===e.autoAnimation&&(i=(-4&i)+(i+a&3))),o.a.createElement(Me,{key:r,y:e.composedY-t.composedY,tileIndex:i,rgbPalette:e.rgbPalette,horizontalFlip:e.horizontalFlip,verticalFlip:e.verticalFlip,outlined:c})}),y={top:u?0:t.composedY,left:"number"===typeof l?l:t.composedX,gridTemplateRows:"repeat(".concat(t.tiles.length,", 16px)"),zIndex:t.spriteMemoryIndex};return o.a.createElement("div",{ref:m,className:Ie.a.root,style:y},v)},Pe=o.a.memo(function(e){var t=ne(e.seedSpriteMemoryIndex,0,0).sprites.map(function(e,t){return o.a.createElement(Be,{key:t,data:e,canDrag:!1,setYToZero:!0})});return o.a.createElement("div",null,t)}),Se=o.a.memo(function(e){var t=re(e.spriteMemoryIndices,0,0).sprites.map(function(e,t){return o.a.createElement(Be,{key:t,data:e,canDrag:!1,setYToZero:!0})});return o.a.createElement("div",null,t)}),Ne=function(){var e=Object(p.d)(function(e){return{item:e.getItem(),initialOffset:e.getInitialSourceClientOffset(),currentOffset:e.getClientOffset(),isDragging:e.isDragging()}}),t=e.isDragging,n=e.item,r=e.currentOffset;if(!t||!r||"Sprite"!==n.type&&"Sprites"!==n.type)return null;var a,i={position:"fixed",top:r.y+4,left:r.x+4,zIndex:1e3};return a="Sprite"!==n.type||n.isAdhoc?"Sprite"===n.type&&n.isAdhoc?o.a.createElement(Se,{spriteMemoryIndices:[n.spriteMemoryIndex]}):o.a.createElement(Se,{spriteMemoryIndices:n.spriteMemoryIndices}):o.a.createElement(Pe,{seedSpriteMemoryIndex:n.spriteMemoryIndex}),o.a.createElement("div",{style:i},a)};function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Te(){var e=Object(r.useContext)(ye),t=Object(r.useContext)(ve),n=(t.past,t.present,t.future,Object(T.a)(t,["past","present","future"]));return{state:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(n,!0).forEach(function(t){Object(m.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t.present,{},n),dispatch:function(t){return e("string"===typeof t?{type:t}:t)},undo:function(){e({type:"undo"})},redo:function(){e({type:"redo"})},canUndo:t.past.length>0,canRedo:t.future.length>0}}var Fe=n(50),Ge=n.n(Fe),ze=n(51),He=n.n(ze);function Ye(){var e=Object(l.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.2);\n\n  & svg {\n    width: 30%;\n    height: 30%;\n  }\n"]);return Ye=function(){return e},e}var qe=s.a.div(Ye()),Ue=function(e){var t=e.className,n=e.onTogglePause,r=e.isPaused,a=r?Ge.a:He.a;return o.a.createElement(qe,{className:t,onClick:function(){return n()},title:"click to ".concat(r?"play":"pause")},o.a.createElement(a,null))};function Xe(){var e=Object(l.a)(["\n  height: 100%;\n  padding: 8px;\n\n  display: flex;\n  flex-direction: column;\n  align-content: center;\n  justify-content: center;\n  text-align: center;\n  font-style: italic;\n  color: var(--dock-foreground-color);\n"]);return Xe=function(){return e},e}function Qe(){var e=Object(l.a)(["\n  width: 320px;\n  height: 224px;\n  background-color: var(--dock-color);\n  position: relative;\n\n  & .pauseOverlay {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    opacity: 0;\n    transition-property: opacity;\n    transition-duration: 0.25s;\n    cursor: pointer;\n  }\n\n  & .pauseOverlay:hover {\n    opacity: 1;\n  }\n"]);return Qe=function(){return e},e}var Ve=s.a.div(Qe()),Le=s.a.div(Xe()),Je=function(e){var t=Te(),n=t.state,r=t.dispatch;return o.a.createElement(Ve,{className:e.className},!n.isDemoing&&o.a.createElement(o.a.Fragment,null,o.a.createElement("canvas",{id:"canvas"}),o.a.createElement(Ue,{className:"pauseOverlay",onTogglePause:function(){return n.isPaused?window.Module.resumeMainLoop():window.Module.pauseMainLoop(),void r("TogglePause")},isPaused:n.isPaused})),n.isDemoing&&o.a.createElement(Le,null,"the game plays here in an emulator when not in demo mode"))},Ze=n(52),Ke=n.n(Ze),We=o.a.memo(function(e){var t=e.tileIndex,n=e.paletteIndex,r=e.horizontalFlip;var a=e.verticalFlip?-1:1,i={transform:"scale(".concat(r?-1:1,",").concat(a,")")};return o.a.createElement("canvas",{className:Ke.a.canvas,ref:function(e){return e&&function(e){var r=K(Z(n));je(e,t,r)}(e)},style:i})}),_e=n(53),$e=n.n(_e),et=function(e){var t=e.className,n=e.spriteData,r=n.spriteMemoryIndex;if(0===n.tiles.length)return null;var a=n.tiles.map(function(e){return o.a.createElement(We,{key:e.tileIndex+"-"+e.y,tileIndex:e.tileIndex,paletteIndex:e.paletteIndex,horizontalFlip:e.horizontalFlip,verticalFlip:e.verticalFlip})}),i={gridTemplateRows:"repeat(".concat(n.tiles.length,", 8px)"),zIndex:r},c=be()($e.a.sprite,t);return o.a.createElement("div",{className:c,style:i},a)},tt=n(23),nt=n.n(tt),rt=function(e){var t=e.className,n=e.spriteData,r=e.focused,a=e.onClick,i=be()(nt.a.root,t,Object(m.a)({},nt.a.focused,r));return o.a.createElement("div",{className:i,onClick:a},o.a.createElement("div",{className:nt.a.index},n.spriteMemoryIndex),o.a.createElement("div",{className:nt.a.spriteContainer},o.a.createElement(et,{className:nt.a.sprite,spriteData:n})))};function ot(){var e=Object(l.a)(["\n  background-color: rgba(0, 0, 0, 0.5);\n  height: var(--spriteEntryHeader);\n  width: 100%;\n"]);return ot=function(){return e},e}function at(){var e=Object(l.a)(["\n  display: grid;\n"]);return at=function(){return e},e}function it(){var e=Object(l.a)(["\n  margin: auto;\n  text-align: center;\n  font-style: italic;\n  color: var(--dock-foreground-color);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]);return it=function(){return e},e}function ct(){var e=Object(l.a)(["\n  --spriteEntryHeader: 32px;\n\n  width: 100%;\n  /* At most a sprite has 33 tiles, plus the sprite entry header is 32px */\n  height: calc(33 * 8px + var(--spriteEntryHeader));\n  background-color: var(--dock-color);\n  border-right: 1px solid var(--dock-border-color);\n  overflow-x: auto;\n"]);return ct=function(){return e},e}var ut=s.a.div(ct()),lt=Object(s.a)(ut)(it()),st=s.a.div(at()),pt=s.a.div(ot()),dt=function(e){var t=e.className,n=Te().state,a=Object(r.useState)([]),i=Object(f.a)(a,2),c=i[0],u=i[1],l=Object(r.useState)(null),s=Object(f.a)(l,2),A=s[0],m=s[1],g=Object(r.useRef)(null),v=Object(p.c)({item:{type:"Sprite"},begin:function(e){if(E&&g&&g.current){var t=e.getClientOffset().x-E.getBoundingClientRect().left-g.current.getBoundingClientRect().width+E.scrollLeft,n=Math.floor(t/8);if(c.indexOf(n)>-1)return{type:"Sprites",spriteMemoryIndices:c.map(function(e){return j[e].spriteMemoryIndex})};if(n>=0&&n<j.length)return{spriteMemoryIndex:j[n].spriteMemoryIndex,type:"Sprite"}}},canDrag:function(){return n.isPaused}}),y=Object(f.a)(v,3),h=y[1],w=y[2],b=Object(r.useState)(null),O=Object(f.a)(b,2),E=O[0],D=O[1];if(Object(r.useEffect)(function(){w(Object(d.b)(),{captureDraggingState:!0})},[w]),!n.isPaused)return o.a.createElement(lt,{className:t},"pause the game to load the current sprites");var j=new Array(381).fill(1,0,381).map(function(e,t){return Q(t)}).filter(function(e){return e.tiles.length>0}),x=j.map(function(e,t){return o.a.createElement(rt,{key:e.spriteMemoryIndex+"-"+n.pauseId,spriteData:e,onClick:function(e){if(e.ctrlKey)u(c.concat(t)),m(null);else if(e.shiftKey)if(null!==A||1===c.length){var n=Math.min(A||c[0],t),r=Math.max(A||c[0],t);u(function(e,t){var n=t-e+1;return new Array(n).fill(0,0,n).map(function(t,n){return n+e})}(n,r))}else u([t]),m(t);else u([t]),m(null)},focused:c.indexOf(t)>-1})});return o.a.createElement(ut,{className:t,ref:function(e){D(e),h(e)}},o.a.createElement(st,{key:n.pauseId,style:{gridTemplateColumns:"1fr repeat(".concat(j.length,", max-content) 1fr")}},o.a.createElement(pt,{ref:g,style:{gridColumn:1}}),x,o.a.createElement(pt,{style:{gridColumn:j.length+2}})))},ft=function(){var e,t,n,r,o,a,i,c,u,l,s,p,d={},f=-1,A=12,m=5003,g=A,v=1<<A,y=[],h=[],w=m,b=0,O=!1,E=0,D=0,j=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],x=[],k=d.LZWEncoder=function(o,a,i,c){e=o,t=a,n=i,r=Math.max(2,c)},M=function(e,t){x[p++]=e,p>=254&&P(t)},C=function(e){I(w),b=l+2,O=!0,R(l,e)},I=function(e){for(var t=0;t<e;++t)y[t]=-1},B=d.compress=function(e,t){var n,r,o,a,d,A,m;for(O=!1,c=S(i=u=e),s=(l=1<<e-1)+1,b=l+2,p=0,a=N(),m=0,n=w;n<65536;n*=2)++m;m=8-m,I(A=w),R(l,t);e:for(;(o=N())!=f;)if(n=(o<<g)+a,y[r=o<<m^a]!=n){if(y[r]>=0){d=A-r,0===r&&(d=1);do{if((r-=d)<0&&(r+=A),y[r]==n){a=h[r];continue e}}while(y[r]>=0)}R(a,t),a=o,b<v?(h[r]=b++,y[r]=n):C(t)}else a=h[r];R(a,t),R(s,t)},P=(d.encode=function(n){n.writeByte(r),o=e*t,a=0,B(r+1,n),n.writeByte(0)},function(e){p>0&&(e.writeByte(p),e.writeBytes(x,0,p),p=0)}),S=function(e){return(1<<e)-1},N=function(){return 0===o?f:(--o,255&n[a++])},R=function(e,t){for(E&=j[D],D>0?E|=e<<D:E=e,D+=i;D>=8;)M(255&E,t),E>>=8,D-=8;if((b>c||O)&&(O?(c=S(i=u),O=!1):c=++i==g?v:S(i)),e==s){for(;D>0;)M(255&E,t),E>>=8,D-=8;P(t)}};return k.apply(this,arguments),d},At=function(){var e,t,n,r,o,a={},i=256,c=499,u=491,l=487,s=503,p=3*s,d=i-1,f=4,A=100,m=16,g=1<<m,v=10,y=10,h=g>>y,w=g<<v-y,b=i>>3,O=6,E=1<<O,D=b*E,j=30,x=10,k=1<<x,M=8,C=1<<M,I=x+M,B=1<<I,P=[],S=[],N=[],R=[],T=a.NeuQuant=function(e,a,c){var u,l;for(t=e,n=a,r=c,o=new Array(i),u=0;u<i;u++)o[u]=new Array(4),(l=o[u])[0]=l[1]=l[2]=(u<<f+8)/i,N[u]=g/i,S[u]=0},F=function(){for(var e=[],t=new Array(i),n=0;n<i;n++)t[o[n][3]]=n;for(var r=0,a=0;a<i;a++){var c=t[a];e[r++]=o[c][0],e[r++]=o[c][1],e[r++]=o[c][2]}return e},G=function(){var e,t,n,r,a,c,u,l;for(u=0,l=0,e=0;e<i;e++){for(n=e,r=(a=o[e])[1],t=e+1;t<i;t++)(c=o[t])[1]<r&&(n=t,r=c[1]);if(c=o[n],e!=n&&(t=c[0],c[0]=a[0],a[0]=t,t=c[1],c[1]=a[1],a[1]=t,t=c[2],c[2]=a[2],a[2]=t,t=c[3],c[3]=a[3],a[3]=t),r!=u){for(P[u]=l+e>>1,t=u+1;t<r;t++)P[t]=e;u=r,l=e}}for(P[u]=l+d>>1,t=u+1;t<256;t++)P[t]=d},z=function(){var o,a,i,d,m,g,v,y,h,w,b,E,x,M;for(n<p&&(r=1),e=30+(r-1)/3,E=t,x=0,M=n,w=(b=n/(3*r))/A|0,y=k,(v=(g=D)>>O)<=1&&(v=0),o=0;o<v;o++)R[o]=y*((v*v-o*o)*C/(v*v));for(h=n<p?3:n%c!==0?3*c:n%u!==0?3*u:n%l!==0?3*l:3*s,o=0;o<b;)if(i=(255&E[x+0])<<f,d=(255&E[x+1])<<f,m=(255&E[x+2])<<f,a=U(i,d,m),q(y,a,i,d,m),0!==v&&Y(v,a,i,d,m),(x+=h)>=M&&(x-=n),0===w&&(w=1),++o%w===0)for(y-=y/e,(v=(g-=g/j)>>O)<=1&&(v=0),a=0;a<v;a++)R[a]=y*((v*v-a*a)*C/(v*v))},H=(a.map=function(e,t,n){var r,a,c,u,l,s,p;for(l=1e3,p=-1,a=(r=P[t])-1;r<i||a>=0;)r<i&&((c=(s=o[r])[1]-t)>=l?r=i:(r++,c<0&&(c=-c),(u=s[0]-e)<0&&(u=-u),(c+=u)<l&&((u=s[2]-n)<0&&(u=-u),(c+=u)<l&&(l=c,p=s[3])))),a>=0&&((c=t-(s=o[a])[1])>=l?a=-1:(a--,c<0&&(c=-c),(u=s[0]-e)<0&&(u=-u),(c+=u)<l&&((u=s[2]-n)<0&&(u=-u),(c+=u)<l&&(l=c,p=s[3]))));return p},a.process=function(){return z(),H(),G(),F()},function(){var e;for(e=0;e<i;e++)o[e][0]>>=f,o[e][1]>>=f,o[e][2]>>=f,o[e][3]=e}),Y=function(e,t,n,r,a){var c,u,l,s,p,d,f;for((l=t-e)<-1&&(l=-1),(s=t+e)>i&&(s=i),c=t+1,u=t-1,d=1;c<s||u>l;){if(p=R[d++],c<s){f=o[c++];try{f[0]-=p*(f[0]-n)/B,f[1]-=p*(f[1]-r)/B,f[2]-=p*(f[2]-a)/B}catch(A){}}if(u>l){f=o[u--];try{f[0]-=p*(f[0]-n)/B,f[1]-=p*(f[1]-r)/B,f[2]-=p*(f[2]-a)/B}catch(A){}}}},q=function(e,t,n,r,a){var i=o[t];i[0]-=e*(i[0]-n)/k,i[1]-=e*(i[1]-r)/k,i[2]-=e*(i[2]-a)/k},U=function(e,t,n){var r,a,c,u,l,s,p,d,A,g;for(A=d=~(1<<31),p=s=-1,r=0;r<i;r++)(a=(g=o[r])[0]-e)<0&&(a=-a),(c=g[1]-t)<0&&(c=-c),a+=c,(c=g[2]-n)<0&&(c=-c),(a+=c)<d&&(d=a,s=r),(u=a-(S[r]>>m-f))<A&&(A=u,p=r),l=N[r]>>y,N[r]-=l,S[r]+=l<<v;return N[s]+=h,S[s]-=w,p};return T.apply(this,arguments),a},mt=function(){for(var e=0,t={};e<256;e++)t[e]=String.fromCharCode(e);function n(){this.bin=[]}n.prototype.getData=function(){for(var e="",n=this.bin.length,r=0;r<n;r++)e+=t[this.bin[r]];return e},n.prototype.writeByte=function(e){this.bin.push(e)},n.prototype.writeUTFBytes=function(e){for(var t=e.length,n=0;n<t;n++)this.writeByte(e.charCodeAt(n))},n.prototype.writeBytes=function(e,t,n){for(var r=n||e.length,o=t||0;o<r;o++)this.writeByte(e[o])};var r,o,a,i,c,u,l,s,p,d={},f=null,A=-1,m=0,g=!1,v=[],y=7,h=-1,w=!1,b=!0,O=!1,E=10,D="Generated by jsgif (https://github.com/antimatter15/jsgif/)",j=(d.setDelay=function(e){m=Math.round(e/10)},d.setDispose=function(e){e>=0&&(h=e)},d.setRepeat=function(e){e>=0&&(A=e)},d.setTransparent=function(e){f=e},d.setComment=function(e){D=e},d.addFrame=function(e,t){if(null===e||!g||null===i)throw new Error("Please call start method before calling addFrame");var n=!0;try{t?e instanceof ImageData?(c=e.data,O&&r==e.width&&o==e.height||x(e.width,e.height)):e instanceof Uint8ClampedArray?e.length==r*o*4?c=e:(console.log("Please set the correct size: ImageData length mismatch"),n=!1):(console.log("Please provide correct input"),n=!1):(c=e.getImageData(0,0,e.canvas.width,e.canvas.height).data,O||x(e.canvas.width,e.canvas.height)),C(),k(),b&&(S(),R(),A>=0&&N()),I(),""!==D&&B(),P(),b||R(),F(),b=!1}catch(a){n=!1}return n},d.download=function(e){if(null===i||0==w)console.log("Please call start method and add frames and call finish method before calling download");else{e=void 0!==e?e.endsWith(".gif")?e:e+".gif":"download.gif";var t=document.createElement("a");t.download=e,t.href=URL.createObjectURL(new Blob([new Uint8Array(i.bin)],{type:"image/gif"})),t.click()}},d.finish=function(){if(!g)return!1;var e=!0;g=!1;try{i.writeByte(59),w=!0}catch(t){e=!1}return e},function(){a=0,c=null,u=null,l=null,p=null,w=!1,b=!0}),x=(d.setFrameRate=function(e){15!=e&&(m=Math.round(100/e))},d.setQuality=function(e){e<1&&(e=1),E=e},d.setSize=function(e,t){g&&!b||((r=e)<1&&(r=320),(o=t)<1&&(o=240),O=!0)}),k=(d.start=function(){j();var e=!0;w=!1,i=new n;try{i.writeUTFBytes("GIF89a")}catch(t){e=!1}return g=e},d.cont=function(){j();return w=!1,i=new n,g=!0},function(){var e=u.length,t=e/3;l=[];var n=new At(u,e,E);p=n.process();for(var r=0,o=0;o<t;o++){var i=n.map(255&u[r++],255&u[r++],255&u[r++]);v[i]=!0,l[o]=i}u=null,s=8,y=7,null!==f&&(a=M(f))}),M=function(e){if(null===p)return-1;for(var t=(16711680&e)>>16,n=(65280&e)>>8,r=255&e,o=0,a=16777216,i=p.length,c=0;c<i;){var u=t-(255&p[c++]),l=n-(255&p[c++]),s=r-(255&p[c]),d=u*u+l*l+s*s,f=c/3;v[f]&&d<a&&(a=d,o=f),c++}return o},C=function(){var e=r,t=o;u=[];for(var n=c,a=0,i=0;i<t;i++)for(var l=0;l<e;l++){var s=i*e*4+4*l;u[a++]=n[s],u[a++]=n[s+1],u[a++]=n[s+2]}},I=function(){var e,t;i.writeByte(33),i.writeByte(249),i.writeByte(4),null===f?(e=0,t=0):(e=1,t=2),h>=0&&(t=7&h),t<<=2,i.writeByte(0|t|e),T(m),i.writeByte(a),i.writeByte(0)},B=function(){i.writeByte(33),i.writeByte(254),i.writeByte(D.length),i.writeUTFBytes(D),i.writeByte(0)},P=function(){i.writeByte(44),T(0),T(0),T(r),T(o),b?i.writeByte(0):i.writeByte(128|y)},S=function(){T(r),T(o),i.writeByte(240|y),i.writeByte(0),i.writeByte(0)},N=function(){i.writeByte(33),i.writeByte(255),i.writeByte(11),i.writeUTFBytes("NETSCAPE2.0"),i.writeByte(3),i.writeByte(1),T(A),i.writeByte(0)},R=function(){i.writeBytes(p);for(var e=768-p.length,t=0;t<e;t++)i.writeByte(0)},T=function(e){i.writeByte(255&e),i.writeByte(e>>8&255)},F=function(){new ft(r,o,l,s).encode(i)};d.stream=function(){return i},d.setProperties=function(e,t){g=e,b=t};return d};function gt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=function(e){return{width:E(e)+16,height:b(e)+16}}(C(e)),o=document.createElement("canvas");o.width=r.width,o.height=r.height;var a=o.getContext("2d");return e.forEach(function(e){var n=C([e]);Object(A.a)(n).sort(function(e,t){return e.spriteMemoryIndex-t.spriteMemoryIndex}).forEach(function(e){e.tiles.forEach(function(n){var r=document.createElement("canvas"),o=n.tileIndex;3===n.autoAnimation&&(o=(-8&o)+(o+t&7)),2===n.autoAnimation&&(o=(-4&o)+(o+t&3)),je(r,o,n.rgbPalette),(n.horizontalFlip||n.verticalFlip)&&(r=function(e,t){var n=t.horizontalFlip?-1:1,r=t.verticalFlip?-1:1,o=t.horizontalFlip?e.width:0,a=t.verticalFlip?e.height:0,i=document.createElement("canvas");i.width=e.width,i.height=e.height;var c=i.getContext("2d");return c&&(c.save(),c.translate(o,a),c.scale(n,r),c.drawImage(e,0,0),c.restore()),i}(r,n)),a.drawImage(r,e.composedX,n.composedY)})})}),n?function(e,t){var n=t[1].x-t[0].x,r=t[1].y-t[0].y,o=document.createElement("canvas");return o.width=n,o.height=r,o.getContext("2d").drawImage(e,t[0].x,t[0].y,n,r,0,0,n,r),o}(o,n):o}var vt=0;function yt(e,t,n,r,o){var a=new mt;a.setRepeat(vt),a.setDelay(n),a.setQuality(1),a.start();var i=function(e,t){var n;n=t?e.reduce(function(e,n){var r=n.groups.reduce(function(e,n){var r=n.sprites.reduce(function(e,n){if(n.composedX<t[0].x||n.composedX>t[1].x)return e;var r=n.tiles.filter(function(e){return e.composedY>=t[0].y&&e.composedY<t[1].y});return e.concat(r)},[]);return e.concat(r)},[]);return e.concat(r)},[]):M(e);var r=Math.max.apply(Math,Object(A.a)(n.map(function(e){return e.autoAnimation})));return Math.pow(2,r)}(e,t);console.log("totalFrames",i);var c=i,u=function(){a.finish();var e=a.stream().getData();o("data:image/gif;base64,".concat(btoa(e)))};!function n(){var o=i-c,l=gt(e,o,t);a.addFrame(l.getContext("2d")),--c,r(l,o,i),c?setTimeout(n,1):setTimeout(u,1)}()}function ht(e){for(;e.firstChild;)e.removeChild(e.firstChild)}var wt=function(e){var t=e.isOpen,n=e.onRequestClose,a=Te().state,c=Object(r.useRef)(null),u=Object(r.useState)(null),l=Object(f.a)(u,2),s=l[0],p=l[1];return Object(r.useEffect)(function(){if(t){var e=16*window.Module._get_neogeo_frame_counter_speed();yt(a.layers,a.crop,e,function(e,t,n){p({frame:t,totalFrames:n}),c&&c.current&&(ht(c.current),c.current.appendChild(e))},function(e){if(p(null),c&&c.current){ht(c.current);var t=new Image;t.src=e,c.current.appendChild(t)}})}},[t,a.crop,a.layers]),o.a.createElement(i.a,{isOpen:t,onRequestClose:n},s&&o.a.createElement("div",null,s.frame," of ",s.totalFrames),o.a.createElement("div",{ref:c}))},bt=n(54),Ot=n.n(bt),Et=function(e){var t=e.layer,n=e.index,r=e.runPreview,a=e.animationCounter,i=e.canDrag,c=e.outlineTiles,u=Te().state;if(u.hiddenLayers[t.id])return null;var l=t.groups.reduce(function(e,t){return u.hiddenGroups[t.id]?e:e.concat(t.sprites)},[]).map(function(e,t){return o.a.createElement(Be,{key:t,data:e,autoAnimate:r,animationCounter:a,canDrag:i,outlineTiles:c})}),s=C([t]),p=E(s),d=Math.max(p+48,320),f=b(s),A={zIndex:n,width:d,height:Math.max(f+48,240)};return o.a.createElement("div",{className:Ot.a.root,style:A},l)},Dt=n(16),jt=n.n(Dt),xt=function(e){var t=e.className,n=e.crop,r=e.width,a=e.height,i=be()(jt.a.root,t),c={x:Math.min(n[0].x,n[1].x),y:Math.min(n[0].y,n[1].y)},u=Math.max(n[0].x,n[1].x),l=Math.max(n[0].y,n[1].y),s={height:c.y,gridColumn:"1 / -1",gridRow:"1"},p={width:c.x,height:l-c.y,gridColumn:"1",gridRow:"2"},d={width:u-c.x,height:l-c.y,gridColumn:"2",gridRow:"2"},f={width:r||"100%",height:a||"100%"};return o.a.createElement("div",{className:i,style:f},o.a.createElement("div",{className:jt.a.mask,style:s}),o.a.createElement("div",{className:jt.a.mask,style:p}),o.a.createElement("div",{className:jt.a.crop,style:d}),o.a.createElement("div",{className:jt.a.mask,style:{gridColumn:"3",gridRow:"2"}}),o.a.createElement("div",{className:jt.a.mask,style:{gridColumn:"1 / -1",gridRow:"3",flex:"1"}}))};function kt(){var e=Object(l.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  cursor: crosshair;\n"]);return kt=function(){return e},e}function Mt(){var e=Object(l.a)(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  flex: 1;\n  align-self: center;\n  overflow: auto;\n  background-color: var(--dock-color);\n"]);return Mt=function(){return e},e}var Ct=s.a.div(Mt()),It=s.a.div(kt()),Bt=function(e){var t=e.className,n=Object(r.useState)({animation:0,rafFrameCountdown:0}),a=Object(f.a)(n,2),i=a[0],c=a[1],u=Te(),l=u.state,s=u.dispatch,d=Object(r.useState)(null),A=Object(f.a)(d,2),m=A[0],g=A[1],v=Object(r.useState)(null),y=Object(f.a)(v,2),h=y[0],w=y[1],b=Object(r.useState)(null),O=Object(f.a)(b,2),E=O[0],D=O[1],j=Object(r.useRef)(!1),x=l.isCropping;Object(r.useEffect)(function(){!j.current&&l.isCropping&&(w(null),D(null)),j.current=l.isCropping},[l.isCropping]),Object(r.useEffect)(function(){if(l.isPreviewing){var e=window.Module._get_neogeo_frame_counter_speed();requestAnimationFrame(function(){var t=0===i.rafFrameCountdown?1:0;c({animation:i.animation+t,rafFrameCountdown:1===t?e:i.rafFrameCountdown-1})})}});var k=Object(p.e)({accept:["Sprite","Sprites"],drop:function(e,t){if(m){var n=t.getClientOffset().x-m.getBoundingClientRect().left,r=16*Math.floor(n/16);if("Sprite"===e.type){var o=e.spriteMemoryIndex,a=e.pauseId;s(a?{type:"MoveSprite",spriteMemoryIndex:o,newComposedX:r,pauseId:a}:{type:"ExtractSprite",spriteMemoryIndex:o,composedX:r})}else s({type:"ExtractSpritesToGroup",spriteMemoryIndices:e.spriteMemoryIndices,composedX:r})}},canDrop:function(){return!x}}),M=Object(f.a)(k,2)[1],C=l.layers.map(function(e,t){return l.hiddenLayers[e.id]?null:o.a.createElement(Et,{key:t,index:t,layer:e,runPreview:l.isPreviewing,animationCounter:i.animation,canDrag:!x,outlineTiles:l.showGrid})}),I=l.isPaused?{backgroundColor:_(W())}:{};return o.a.createElement(o.a.Fragment,null,o.a.createElement(wt,{isOpen:l.isBuildingGif,onRequestClose:function(){return s("StopBuildGif")}}),o.a.createElement(Ct,{className:t,style:I,ref:function(e){g(e),M(e)}},C,!!(x&&h&&E||l.crop)&&o.a.createElement(xt,{width:m&&m.scrollWidth,height:m&&m.scrollHeight,crop:l.crop||[h,E]}),x&&o.a.createElement(It,{style:m?{width:m.scrollWidth,height:m.scrollHeight}:{},onMouseDown:function(e){if(x){var t=e.target.getBoundingClientRect(),n=e.clientX-t.x,r=e.clientY-t.y,o=16*Math.floor(n/16),a=16*Math.floor(r/16);w({x:o,y:a})}},onMouseMove:function(e){if(x&&h){var t=e.target.getBoundingClientRect(),n=e.clientX-t.x,r=e.clientY-t.y,o=16*Math.floor(n/16),a=16*Math.floor(r/16);D({x:o,y:a})}},onMouseUp:function(){var e,t;x&&h&&E&&(t=E,(e=h).x!==t.x&&e.y!==t.y)?s({type:"SetCrop",crop:[h,E]}):(s({type:"SetCrop",crop:void 0}),w(null),D(null))}})))};function Pt(){var e=Object(l.a)(["\n  display: grid;\n  grid-template-columns: 32px;\n  grid-template-rows: repeat(5, 32px) 1fr 32px 32px;\n"]);return Pt=function(){return e},e}var St=s.a.div(Pt()),Nt=function(e){var t=e.className,n=Te(),r=n.state,a=n.dispatch,i=n.undo,c=n.redo,u=n.canUndo,l=n.canRedo;return o.a.createElement(St,{className:t},o.a.createElement("button",{title:"".concat(r.showGrid?"hide":"show"," grid"),onClick:function(){return a("ToggleGrid")}},"G"),o.a.createElement("button",{title:"crop",onClick:function(e){e.stopPropagation(),a({type:"SetCrop",crop:void 0}),a("ToggleCropping")}},"C",r.isCropping?"y":"n"),o.a.createElement("button",{title:"preview",onClick:function(){return a("TogglePreview")}},"P"),o.a.createElement("button",{title:"build gif",onClick:function(){return a("BuildGif")}},"G"),o.a.createElement("button",{title:"down",onClick:function(){return a("PushAllDown")}},"D"),o.a.createElement("div",null),o.a.createElement("button",{title:"undo",disabled:!u,onClick:function(){return i()}},"U"),o.a.createElement("button",{title:"redo",disabled:!l,onClick:function(){return c()}},"R"))},Rt=n(55),Tt=n.n(Rt),Ft=function(e){var t=e.className,n=e.title,r=e.icon,a=e.onClick,i=r,c=be()(Tt.a.root,t);return o.a.createElement(i,{className:c,onClick:a,title:n,role:"button","aria-label":n})},Gt=n(11),zt=n(21),Ht=n.n(zt),Yt=n(26),qt=n.n(Yt),Ut=n(27),Xt=n.n(Ut),Qt=n(57),Vt=n.n(Qt),Lt=n(56),Jt=n.n(Lt),Zt=function(e){var t=e.sprite,n=e.onDelete;return o.a.createElement("div",{className:Jt.a.root}," ",t.spriteMemoryIndex," ",o.a.createElement(Ft,{icon:Ht.a,title:"Delete Layer",onClick:function(){return n()}}))};var Kt=o.a.memo(function(e){var t=function(e){var t=gt([{id:0,groups:[N(e)]}]);return{url:t.toDataURL("image/png"),width:t.width,height:t.height}}(e.group),n=t.width,r=t.height,a=t.url,i=24/Math.max(n,r);return o.a.createElement("img",{width:n*i,height:r*i,src:a,alt:"sprite group thumbnail"})}),Wt=n(29),_t=n.n(Wt),$t=function(e){var t=e.group,n=e.onDelete,a=e.onToggleVisibility,i=Te(),c=i.dispatch,u=i.state,l=Object(r.useState)(!1),s=Object(f.a)(l,2),p=s[0],d=s[1],A=null;return p&&(A=t.sprites.map(function(e){return o.a.createElement(Zt,{key:e.spriteMemoryIndex+"-"+e.pauseId,sprite:e,onDelete:function(){return c({type:"RemoveSpriteFromExtractedGroup",group:t,sprite:e})}})})),o.a.createElement("div",{className:_t.a.root},o.a.createElement("div",{className:_t.a.toolbar},o.a.createElement(Ft,{icon:p?qt.a:Xt.a,title:"Show sprites",onClick:function(){return d(!p)}}),o.a.createElement(Kt,{group:t}),o.a.createElement("div",null,t.sprites[0]&&t.sprites[0].spriteMemoryIndex||"empty"),o.a.createElement(Ft,{icon:u.hiddenGroups[t.id]?Gt.c:Gt.b,onClick:function(){return a()},title:"Group is ".concat(u.hiddenLayers[t.id]?"hidden":"visible")}),o.a.createElement(Ft,{icon:Ht.a,title:"Delete Group",onClick:function(){return n()}})),o.a.createElement("div",{className:_t.a.spriteContainer},A))},en=o.a.memo(function(e){var t=function(e){var t=gt([R(e)]);return{url:t.toDataURL("image/png"),width:t.width,height:t.height}}(e.layer),n=t.width,r=t.height,a=t.url,i=48/r;return o.a.createElement("img",{width:n*i,height:r*i,src:a,alt:"layer thumbnail"})}),tn=n(37),nn=n.n(tn),rn=function(e){var t=e.layer,n=e.onDelete,a=e.onToggleVisibility,i=e.onGroupDelete,c=e.onGroupToggleVisibility,u=e.onExtendViaMirror,l=e.onPushDown,s=Te(),p=s.dispatch,d=s.state,A=Object(r.useState)(!0),m=Object(f.a)(A,2),g=m[0],v=m[1],y=t.groups.map(function(e){return o.a.createElement($t,{key:e.id,group:e,onDelete:function(){return i(e)},onToggleVisibility:function(){return c(e)}})});return o.a.createElement("div",{className:nn.a.root},o.a.createElement("div",{className:nn.a.toolbar},o.a.createElement(Ft,{icon:g?qt.a:Xt.a,title:"Show groups",onClick:function(){return v(!g)}}),o.a.createElement(en,{layer:t}),o.a.createElement(Ft,{icon:Gt.e,onClick:function(){return p({type:"RotateLayer",layer:t})},title:"Rotate tiles"}),o.a.createElement(Ft,{icon:Gt.d,onClick:function(){return u()},title:"Mirror"}),o.a.createElement(Ft,{icon:Vt.a,onClick:function(){return l()},title:"Push Down"}),o.a.createElement(Ft,{icon:d.hiddenLayers[t.id]?Gt.c:Gt.b,onClick:function(){return a()},title:"Layer is ".concat(d.hiddenLayers[t.id]?"hidden":"visible")}),o.a.createElement(Ft,{icon:Ht.a,title:"Delete Layer",onClick:function(){return n()}})),g&&y)},on=n(38),an=n.n(on),cn=function(e){var t=e.className,n=Te(),r=n.state,a=n.dispatch,i=be()(an.a.root,t),c=Object(A.a)(r.layers).reverse().map(function(e){return o.a.createElement(rn,{key:e.id,layer:e,onDelete:function(){return a({type:"DeleteLayer",layer:e})},onToggleVisibility:function(){return a({type:"ToggleVisibilityOfLayer",layer:e})},onGroupDelete:function(e){return a({type:"DeleteGroup",group:e})},onGroupToggleVisibility:function(e){return a({type:"ToggleVisibilityOfGroup",group:e})},onExtendViaMirror:function(){return a({type:"ExtendLayerViaMirror",layer:e})},onPushDown:function(){return a({type:"PushDownLayer",layer:e})}})});return o.a.createElement("div",{className:i},o.a.createElement(Ft,{className:an.a.buttonIcon,icon:Gt.a,onClick:function(){return a({type:"NewLayer"})},title:"New Layer"}),c)},un=n(24),ln=n.n(un),sn=n(39);function pn(){var e=Object(l.a)(["\n  width: 0.01px;\n  height: 0.01px;\n"]);return pn=function(){return e},e}function dn(){var e=Object(l.a)(["\n  cursor: pointer;\n  font-weight: bold;\n"]);return dn=function(){return e},e}function fn(){var e=Object(l.a)(["\n  border: 1px dotted gray;\n  flex: 1;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-content: center;\n  text-align: center;\n  font-size: 0.8em;\n  color: gray;\n\n  background-color: ",";\n"]);return fn=function(){return e},e}var An=s.a.div(fn(),function(e){return e.isOver?"lightgray":"transparent"}),mn=s.a.label(dn()),gn=s.a.input(pn());function vn(e){var t=!1;if(e.dataTransfer){var n=e.dataTransfer.types;for(var r in n)if("Files"===n[r]){t=!0;break}}return t}var yn=function(e){var t=e.onFileChosen,n=e.fileName,a=Object(r.useState)(!1),i=Object(f.a)(a,2),c=i[0],u=i[1];var l=n?o.a.createElement(o.a.Fragment,null,n):o.a.createElement("div",{onDragOver:function(e){u(vn(e))},onDragLeave:function(){u(!1)},onDrop:function(e){if(vn(e)){var n=e.dataTransfer&&e.dataTransfer.files&&e.dataTransfer.files[0];n&&t(n)}}},"drag a file here, or"," ",o.a.createElement(mn,null,"click to choose",o.a.createElement(gn,{type:"file",onChange:function(e){e.target&&e.target.files&&e.target.files[0]&&t(e.target.files[0])}})));return o.a.createElement(An,{isOver:c},l)};function hn(){var e=Object(l.a)(['\n  width: 100%;\n  height: 3px;\n\n  background-color: var(--focal-color);\n  position: relative;\n\n  &:after {\n    content: "";\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    width: 100%;\n    background-image: linear-gradient(\n      90deg,\n      transparent 0,\n      transparent 90%,\n      rgba(255, 255, 255, 0.5) 90%,\n      white 95%,\n      rgba(255, 255, 255, 0.5) 100%\n    );\n\n    animation: 6s '," ease-in-out infinite;\n  }\n"]);return hn=function(){return e},e}function wn(){var e=Object(l.a)(["\n  0% {\n    width: 0%;\n  }\n  50% {\n    width: 100%;\n  }\n  100% {\n    width: 0%;\n  }\n"]);return wn=function(){return e},e}function bn(){var e=Object(l.a)(["\n  font-size: 24px;\n  font-weight: bold;\n"]);return bn=function(){return e},e}function On(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return On=function(){return e},e}function En(){var e=Object(l.a)(["\n  font-size: 96px;\n  font-weight: bold;\n\n  color: lightgray;\n"]);return En=function(){return e},e}function Dn(){var e=Object(l.a)(["\n  display: grid;\n  grid-template-columns: max-content 1fr 200px;\n  grid-template-rows: repeat(2, auto);\n  column-gap: 16px;\n  row-gap: 16px;\n\n  padding: 16px;\n"]);return Dn=function(){return e},e}function jn(){var e=Object(l.a)(["\n  display: grid;\n  grid-template-rows: repeat(2, auto);\n\n  color: black;\n  outline: 1px solid gray;\n"]);return jn=function(){return e},e}var xn=s.a.div(jn()),kn=s.a.div(Dn()),Mn=s.a.div(En()),Cn=s.a.div(On()),In=s.a.div(bn()),Bn=Object(s.b)(wn()),Pn=s.a.div(hn(),Bn),Sn=function(e){var t=e.className,n=e.stepNumber,r=e.title,a=e.description,i=e.loading,c=e.fileName,u=e.onFileChosen,l={visibility:i?"visible":"hidden"};return o.a.createElement(xn,{className:t},o.a.createElement(Pn,{style:l}),o.a.createElement(kn,null,o.a.createElement(Mn,null,n),o.a.createElement(Cn,null,o.a.createElement(In,null,r),o.a.createElement("div",null,a)),o.a.createElement(yn,{onFileChosen:u,fileName:c})))},Nn=n(58),Rn=n.n(Nn),Tn=n(59),Fn=n.n(Tn);function Gn(){var e=Object(l.a)(["\n  --choice-title-img: url(",");\n"]);return Gn=function(){return e},e}function zn(){var e=Object(l.a)(["\n  --choice-title-img: url(",");\n"]);return zn=function(){return e},e}function Hn(){var e=Object(l.a)(["\n  width: 100%;\n  height: 128px;\n  outline: 1px solid gray;\n  cursor: pointer;\n\n  background-color: black;\n  background-image: var(--choice-title-img);\n  background-repeat: no-repeat;\n  background-position: center center;\n  background-size: 80%;\n"]);return Hn=function(){return e},e}function Yn(){var e=Object(l.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: max-content;\n  column-gap: 8px;\n"]);return Yn=function(){return e},e}var qn=s.a.div(Yn()),Un=s.a.div(Hn()),Xn=s.a.div(zn(),Rn.a),Qn=s.a.div(Gn(),Fn.a),Vn=function(e){var t=e.className,n=e.onChoice;return o.a.createElement(qn,{className:t},o.a.createElement(Xn,null,o.a.createElement(Un,{onClick:function(){return n("ss2")}})),o.a.createElement(Qn,null,o.a.createElement(Un,{onClick:function(){return n("streetSlam")}})))};function Ln(){var e=Object(l.a)(["\n  margin-top: 8px;\n  font-size: 0.8rem;\n\n  & > a {\n    color: blue;\n    cursor: pointer;\n  }\n\n  & > div {\n    margin-top: 8px;\n  }\n"]);return Ln=function(){return e},e}function Jn(){var e=Object(l.a)(["\n  font-size: 24px;\n"]);return Jn=function(){return e},e}function Zn(){var e=Object(l.a)(["\n  max-width: 600px;\n  padding: 16px;\n  margin: 96px auto;\n  background-color: white;\n\n  display: grid;\n  grid-template-rows: repeat(3, auto);\n  row-gap: 16px;\n\n  background-color: #eee;\n  color: black;\n  box-shadow: 0px 24px 20px 0px rgba(0, 0, 0, 0.7);\n"]);return Zn=function(){return e},e}var Kn=Object(s.a)(i.a)(Zn()),Wn=s.a.div(Jn()),_n=s.a.div(Ln());function $n(e){return new Promise(function(t,n){var r=new FileReader;r.addEventListener("load",function(){r.result?t(r.result):n("Failed to load: ".concat(e.name))}),r.readAsArrayBuffer(e)})}function er(e){return tr.apply(this,arguments)}function tr(){return(tr=Object(sn.a)(ln.a.mark(function e(t){var n;return ln.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$n(t);case 2:n=e.sent,window.Module.FS_createDataFile("/virtualfs",t.name,new Uint8Array(n),!0,!0);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var nr=function(){var e=Object(r.useState)(!1),t=Object(f.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(!0),c=Object(f.a)(i,2),u=c[0],l=c[1],s=Object(r.useState)(""),p=Object(f.a)(s,2),d=p[0],A=p[1],m=Object(r.useState)(""),g=Object(f.a)(m,2),v=g[0],y=g[1],h=Object(r.useState)(!1),w=Object(f.a)(h,2),b=w[0],O=w[1],E=Object(r.useState)(!1),D=Object(f.a)(E,2),j=D[0],x=D[1],k=Object(r.useState)(!1),M=Object(f.a)(k,2),C=M[0],I=M[1],B=Object(r.useState)(!1),P=Object(f.a)(B,2),S=P[0],N=P[1],R=Te().dispatch;function T(){!function(e){var t=window.stackAlloc(12),n=(e||d).replace(".zip","");window.HEAP32[t>>2]=window.allocateUTF8OnStack("gngeo"),window.HEAP32[1+(t>>2)]=window.allocateUTF8OnStack(n),window.HEAP32[2+(t>>2)]=0,l(!1),R({type:"StartEmulation"});try{window.Module._run_rom(2,t)}catch(r){console.log("_run_rom threw")}}(d)}function F(){return(F=Object(sn.a)(ln.a.mark(function e(t){var n,r;return ln.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./".concat(t,".json"));case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,l(!1),R({type:"SetDemo",demoData:r});case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}var G=o.a.createElement("div",null,"The game ROM, such as samsho2.zip",o.a.createElement(_n,null,o.a.createElement("a",{onClick:function(){return a(!n)}},"why does my ROM not work?"),n&&o.a.createElement("div",null,"NGBG uses GnGeo as its emulator. GnGeo requires ROMs to be in a specific format, and many ROMs out there today don't match. I will fix this eventually.")));return o.a.createElement(Kn,{isOpen:u,overlayClassName:"modalOverlay"},o.a.createElement(Wn,null,"To start, please provide these two files"),o.a.createElement(Sn,{stepNumber:1,title:"Neo Geo BIOS",description:"The BIOS file for the Neo Geo, it must be named neogeo.zip",onFileChosen:function(e){"neogeo.zip"===e.name&&(I(!0),y(e.name),er(e).then(function(){I(!1),x(!0)}))},loading:C,fileName:v}),o.a.createElement(Sn,{stepNumber:2,title:"Game ROM",description:G,onFileChosen:function(e){N(!0),A(e.name),er(e).then(function(){N(!1),O(!0)})},loading:S,fileName:d}),o.a.createElement("button",{disabled:!b||!j,onClick:function(){return T()}},"launch"),o.a.createElement(Wn,null,"Or ... choose a demo to taste how the app works"),o.a.createElement(Vn,{onChoice:function(e){return F.apply(this,arguments)}}))};function rr(){var e=Object(l.a)(["\n  display: grid;\n  grid-template-rows: max-content 1fr;\n  grid-template-columns: 1fr;\n  row-gap: var(--gutter-width);\n\n  .emulator {\n    grid-column: 1;\n    grid-row: 1;\n  }\n\n  .layers {\n    grid-column: 1;\n    grid-row: 2;\n  }\n"]);return rr=function(){return e},e}function or(){var e=Object(l.a)(["\n  display: grid;\n  grid-template-rows: 1fr max-content;\n  grid-template-columns: 1fr;\n  row-gap: var(--gutter-width);\n\n  & .composeScreen {\n    grid-row: 1;\n  }\n\n  & .spriteTray {\n    grid-row: 2;\n  }\n"]);return or=function(){return e},e}function ar(){var e=Object(l.a)(["\n  --gutter-width: 16px;\n\n  width: 100vw;\n  height: 100vh;\n\n  display: grid;\n  grid-template-rows: 1fr;\n  grid-template-columns: max-content 1fr 320px;\n  column-gap: var(--gutter-width);\n\n  padding: var(--gutter-width);\n"]);return ar=function(){return e},e}var ir=s.a.div(ar()),cr=s.a.div(or()),ur=s.a.div(rr());n(86);i.a.setAppElement("#root"),u.a.render(o.a.createElement(function(){return o.a.createElement(he,null,o.a.createElement(p.b,{backend:d.a},o.a.createElement(nr,null),o.a.createElement(Ne,null),o.a.createElement(ir,null,o.a.createElement(Nt,null),o.a.createElement(cr,null,o.a.createElement(Bt,{className:"composeScreen"}),o.a.createElement(dt,{className:"spriteTray"})),o.a.createElement(ur,null,o.a.createElement(Je,{className:"emulator"}),o.a.createElement(cn,{className:"layers"})))))},null),document.getElementById("root")),Object({NODE_ENV:"production",PUBLIC_URL:"/ngbg"}).ENABLE_DEMO_DUMP&&(window.dumpDemo=function(){var e=Object.keys(window.neededPalettes).reduce(function(e,t){var n=(window.Module._get_current_pal_addr()+32*Number(t))/2;return e[t]=window.Module.HEAPU16.slice(n,n+16),e},{}),t=Object.keys(window.neededTiles).reduce(function(e,t){return e[t]=window.HEAPU8.slice(window.Module._get_rom_ctile_addr()+2*Number(t)*16*4,window.Module._get_rom_ctile_addr()+2*(Number(t)+1)*16*4),e},{}),n=window.Module._get_tile_ram_addr(),r=n+68606,o={palettes:e,tileMemory:t,spriteMemory:window.HEAPU8.slice(n,r)},a=JSON.stringify(o,function(e,t){return t.join?"["+t.join(",")+"]":t});console.log(a)})}},[[63,1,2]]]);
//# sourceMappingURL=main.1719cb0d.chunk.js.map